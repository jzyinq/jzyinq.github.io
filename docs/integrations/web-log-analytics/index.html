<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-integrations/web-log-analytics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">web-log-analytics | PiwikPRO - Developers docs and guides</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jzyinq.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jzyinq.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jzyinq.github.io/docs/integrations/web-log-analytics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="web-log-analytics | PiwikPRO - Developers docs and guides"><meta data-rh="true" name="description" content="bash"><meta data-rh="true" property="og:description" content="bash"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jzyinq.github.io/docs/integrations/web-log-analytics"><link data-rh="true" rel="alternate" href="https://jzyinq.github.io/docs/integrations/web-log-analytics" hreflang="en"><link data-rh="true" rel="alternate" href="https://jzyinq.github.io/docs/integrations/web-log-analytics" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PiwikPRO - Developers docs and guides RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PiwikPRO - Developers docs and guides Atom Feed"><link rel="stylesheet" href="/assets/css/styles.85ef94d3.css">
<link rel="preload" href="/assets/js/runtime~main.c3a6318d.js" as="script">
<link rel="preload" href="/assets/js/main.a62c1ef3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/piwik-logo.svgz" alt="PiwikPRO Developers Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/piwik-logo.svgz" alt="PiwikPRO Developers Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Developers</b></a><a class="navbar__item navbar__link" href="/docs/web-api/">Web API</a><a class="navbar__item navbar__link" href="/docs/js-api/">JS API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/integrations/">Integrations</a><a class="navbar__item navbar__link" href="/docs/other/">Other</a><a class="navbar__item navbar__link" href="/docs/changelog">Changelog</a><a class="navbar__item navbar__link" href="/api">Api</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/integrations/amp-integration">Accelerated Mobile Pages integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/integrations/">Integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/integrations/paw-integration">Progressive Web Applications integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/integrations/web-log-analytics">web-log-analytics</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">web-log-analytics</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>web-log-analytics</h1></header><div class="default-domain"><p>bash</p></div><h1>Web Log Analytics</h1><p>Log analytics is a python script, that allows you to import logs of
common web servers (nginx, apache, iss and more) directly to Piwik PRO.
It&#x27;s a free software available under GPLv3 license, available on
<a href="https://github.com/PiwikPRO/log-analytics/" target="_blank" rel="noopener noreferrer">GitHub</a> and
<a href="https://pypi.org/project/piwik-pro-log-analytics/" target="_blank" rel="noopener noreferrer">PyPi</a></p><p>Installation of the log analytics script -----------------</p><p>You can install the script in one of two ways:</p><ul><li>By using Python&#x27;s package manager -<span class="title-ref">pip</span> - this is the preferred method</li><li>By downloading the script to your machine manually</li></ul><div class="tabs"><div class="group-tab"><p>Python package</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> piwik-pro-log-analytics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="group-tab"><p>Python script</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://raw.githubusercontent.com/PiwikPRO/log-analytics/master/piwik_pro_log_analytics/import_logs.py </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> import_logs.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x import_logs.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-log-import">Set up log import<a href="#set-up-log-import" class="hash-link" aria-label="Direct link to Set up log import" title="Direct link to Set up log import">​</a></h2><p>You need to run the Log Importer tool with the correct parameters. Some
of them must be present, while others are optional.</p><p>Sample command:</p><div class="tabs"><div class="group-tab"><p>Python package</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">piwik_pro_log_analytics --url</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://demo.piwik.pro --client-id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">*** --client-secret</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">*** --enable-static --enable-bots --show-progress --idsite</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">*** --recorders</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> sample.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="group-tab"><p>Python script</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./import_logs.py --url</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://demo.piwik.pro --client-id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">*** --client-secret</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">*** --enable-static --enable-bots --show-progress --idsite</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">*** --recorders</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> sample.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><div class="option"><p>-<!-- -->-url=<a href="https://demo.piwik.pro" target="_blank" rel="noopener noreferrer">https://demo.piwik.pro</a></p><p>This is a mandatory parameter which points to the location of your Piwik
instance</p></div><div class="option"><p>-<!-- -->-client-id=<!-- -->*<!-- -->*<!-- -->*</p><p>Part of API credentials. They can be obtained from PPAS (check <a href="https://help.piwik.pro/support/questions/generate-api-credentials/" target="_blank" rel="noopener noreferrer">how to
do
it</a>).</p></div><div class="option"><p>-<!-- -->-client-secret=<!-- -->*<!-- -->*<!-- -->*</p><p>Part of API credentials. They can be obtained from PPAS (check <a href="https://help.piwik.pro/support/questions/generate-api-credentials/" target="_blank" rel="noopener noreferrer">how to
do
it</a>).</p></div><div class="option"><p>-<!-- -->-idsite=<!-- -->*<!-- -->*<!-- -->*</p><p>Defines the Site ID of the website (eg.</p><span class="title-ref">99e33528-8da4-46d8-be90-a62bfb3a7bba</span>).</div><p>There are many other options that can be added to this script, which are
described in the <code>Tracker-log-import-add-parameters-to-log-import</code>.</p><p>If you plan to import logs on a regular basis it is advised to setup a
scheduled job using a tool such as CRON.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exclude-log-lines">Exclude log lines<a href="#exclude-log-lines" class="hash-link" aria-label="Direct link to Exclude log lines" title="Direct link to Exclude log lines">​</a></h2><p>There are several methods allowing you to exclude particular log lines
or visitors from being tracked:</p><ul><li>You can exclude specific IP addresses or IP ranges from being
tracked. To configure excluded IPs, log into Piwik as a superuser,
then click Administration <!-- -->&gt;<!-- --> Websites.</li><li>Excluding lines from specific IP or IP ranges - this can be done the
same way as in the default tracking method in Piwik (by adding an
excluded IP or IP range in the Administration -<!-- -->&gt;<!-- --> Websites menu)</li><li>You can exclude visitors based on their User Agent HTTP headers by
using <strong>--useragent-exclude</strong></li><li>You can also provide a sole hostname that you would like to import
from. This means that all the logs from other hosts will be ignored.
The parameter allowing this is: <strong>--hostname</strong></li><li>It is also possible to exclude specific log lines where the URL path
matches a particular URL path. See the option <strong>--exclude-path</strong></li></ul><p>If you need to add multiple paths or hostnames, you will need to add
these parameters multiple times.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-parameters-to-log-import">Add parameters to log import<a href="#add-parameters-to-log-import" class="hash-link" aria-label="Direct link to Add parameters to log import" title="Direct link to Add parameters to log import">​</a></h2><p>The Web Log Analytics script does not track static files (JS, CSS,
images, etc.). It also excludes all bot traffic.</p><p>Use the following commands to enable tracking of these elements:</p><ul><li><strong>--enable-bots</strong> This enables tracking of search/spam bots via
Piwik. Just add a custom variable with the bot’s name. The
User-agent field is examined to determine whether a log line comes
from a bot or a real user.</li><li><strong>--enable-static</strong> Specifies tracking of all static files (images,
JS, CSS) in Piwik PRO.</li><li><strong>--enable-http-redirects</strong> This tracks HTTP redirects as page
views, with a custom title and custom variable.</li><li><strong>--enable-reverse-dns</strong> Activates reverse DNS, which is used in
generating the Visitors <!-- -->&gt;<!-- --> Providers report. NOTE: this may lead to
a serious drop in performance as reverse DNS is very slow.</li><li><strong>--recorders=N</strong> Sets a specific number of threads. We recommend
matching it to the number of CPU cores in the system.</li><li><strong>--enable-bulk-tracking</strong> Enables bulk tracking mode. Tracking
requests will be bunched up and send using bulk request.</li><li><strong>--recorder-max-payload-size=N</strong> When importer uses the Piwik PRO
bulk tracking feature in order to boost speed (option
<strong>--enable-bulk-tracking</strong>), this option configures max number of
tracking requests that bulk request can contain. Adjust the number
of pageviews (or log lines) to see what generates the best
performance.</li></ul><p>More information about log import parameters can be found using the help
parameter:</p><div class="tabs"><div class="group-tab"><p>Python package</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">piwik_pro_log_analytics --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="group-tab"><p>Python script</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./import_logs.py --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="import-data-with-server-log-analytics-and-standard-javascript-simultaneously">Import data with server log analytics and standard JavaScript simultaneously<a href="#import-data-with-server-log-analytics-and-standard-javascript-simultaneously" class="hash-link" aria-label="Direct link to Import data with server log analytics and standard JavaScript simultaneously" title="Direct link to Import data with server log analytics and standard JavaScript simultaneously">​</a></h2><p>JavaScript Tracking Client and web server log file analytics can be used
at the same time, on the condition that data is recorded for each method
in a separate Piwik PRO website.</p><p>To avoid double counts of visits, follow these steps:</p><ol><li>Create a new website in Piwik PRO with a name, for example,
example.com (log files).</li><li>Record the website ID of this new website. The website ID will be
used for importing log file data.</li><li>In the command line, force all requests from log files to be
recorded in a specific website ID via the command --idsite=X.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-requirements">Technical requirements<a href="#technical-requirements" class="hash-link" aria-label="Direct link to Technical requirements" title="Direct link to Technical requirements">​</a></h2><p>Technical requirements for running Web Log Analytics:</p><ul><li>Access to the server or server logs - for example via SSH</li><li>Python 3.6+ - older versions (e.g. 2.6, 2.7 or 3.5) are not
supported. Most often you&#x27;ll want to import your data straight from
the server where it is created. To do this, you’ll need to be able
to run a Python script on the machine that will send the logs to
Piwik PRO.</li><li>Log Analytics script - this is a script written in Python ensuring
that logs are sent to your Piwik PRO instance, available on
<a href="https://github.com/PiwikPRO/log-analytics/" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul><p>Supported log formats:</p><ul><li>all default log formats for: Nginx, Apache, IIS, Tomcat</li><li>all common log formats like: NCSA Common log format, Extended log
format, W3C Extended log files, Nginx JSON</li><li>log files of some popular Cloud Saas services: Amazon CloudFront
logs, Amazon S3 logs</li><li>streaming media server log files such as: Icecast</li><li>log files with and without the virtual host will be imported</li></ul><p>This script does not directly support importing logs from log
aggregation tools, like Grafana Loki or ELK. If you&#x27;d like to import
logs from one of those, you need to download them to the disk first.</p><p>Performance considerations &amp; rate limiting ----------------------</p><p>The script needs CPU to read and parse the log files, but it is usually
Piwik PRO server itself which will limit the import speed due to network
latency. To improve performance, you can use the <strong>--recorders</strong> option
to specify the number of parallel threads which will import hits into
Piwik PRO. By default we are using one recorder, but you can increase
this value until you achieve satisfying speed.</p><p>If you are Piwik PRO Core user, please make sure, that you are not
hitting rate limits, by using <strong>--sleep-between-requests-ms</strong> flag to
slow down the import process.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/integrations/web-log-analytics.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/integrations/paw-integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Progressive Web Applications integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#set-up-log-import" class="table-of-contents__link toc-highlight">Set up log import</a></li><li><a href="#exclude-log-lines" class="table-of-contents__link toc-highlight">Exclude log lines</a></li><li><a href="#add-parameters-to-log-import" class="table-of-contents__link toc-highlight">Add parameters to log import</a></li><li><a href="#import-data-with-server-log-analytics-and-standard-javascript-simultaneously" class="table-of-contents__link toc-highlight">Import data with server log analytics and standard JavaScript simultaneously</a></li><li><a href="#technical-requirements" class="table-of-contents__link toc-highlight">Technical requirements</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c3a6318d.js"></script>
<script src="/assets/js/main.a62c1ef3.js"></script>
</body>
</html>