<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sdks/iOS-sdk">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">iOS SDK | PiwikPRO - Developers docs and guides</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jzyinq.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jzyinq.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jzyinq.github.io/docs/sdks/iOS-sdk"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="iOS SDK | PiwikPRO - Developers docs and guides"><meta data-rh="true" name="description" content="SDK configuration"><meta data-rh="true" property="og:description" content="SDK configuration"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jzyinq.github.io/docs/sdks/iOS-sdk"><link data-rh="true" rel="alternate" href="https://jzyinq.github.io/docs/sdks/iOS-sdk" hreflang="en"><link data-rh="true" rel="alternate" href="https://jzyinq.github.io/docs/sdks/iOS-sdk" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PiwikPRO - Developers docs and guides RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PiwikPRO - Developers docs and guides Atom Feed"><link rel="stylesheet" href="/assets/css/styles.85ef94d3.css">
<link rel="preload" href="/assets/js/runtime~main.e80d0e85.js" as="script">
<link rel="preload" href="/assets/js/main.52bc0e6c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/piwik-logo.svgz" alt="PiwikPRO Developers Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/piwik-logo.svgz" alt="PiwikPRO Developers Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Developers</b></a><a class="navbar__item navbar__link" href="/docs/web-api/">Web API</a><a class="navbar__item navbar__link" href="/docs/js-api/">JS API</a><a class="navbar__item navbar__link" href="/docs/integrations/">Integrations</a><a class="navbar__item navbar__link" href="/docs/other/">Other</a><a class="navbar__item navbar__link" href="/docs/changelog">Changelog</a><a class="navbar__item navbar__link" href="/api">Api</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>iOS SDK</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sdk-configuration">SDK configuration<a href="#sdk-configuration" class="hash-link" aria-label="Direct link to SDK configuration" title="Direct link to SDK configuration">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="server">Server<a href="#server" class="hash-link" aria-label="Direct link to Server" title="Direct link to Server">​</a></h3><ul><li>You need a Piwik PRO account on the cloud or an on-premises setup which your mobile app will communicate with. For details, please visit the <a href="https://piwik.pro" target="_blank" rel="noopener noreferrer">Piwik PRO website</a>.</li><li>Create a new website (or app) in the Piwik PRO web interface.</li><li>Copy and note the Website ID from &quot;Administration &gt; Websites &amp; apps &gt; Installation&quot; and your server address.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client">Client<a href="#client" class="hash-link" aria-label="Direct link to Client" title="Direct link to Client">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="including-the-library">Including the library<a href="#including-the-library" class="hash-link" aria-label="Direct link to Including the library" title="Direct link to Including the library">​</a></h4><p>Use the following in your Podfile:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;PiwikPROSDK&#x27;, &#x27;~&gt; VERSION&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Replace <code>VERSION</code> with the latest release name, e.g. <code>&#x27;~&gt; 1.0.7&#x27;</code>.</p><p>Then run <code>pod install</code>. In every file you wish to use the PiwikPROSDK, don&#x27;t forget to import it.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h4><p>To configure the tracker you will need the URL address of your tracking server and website ID (you can find it in <em>Administration &gt; Websites &amp; apps &gt; Installation</em> on the web interface).</p><p>Open the <em>AppDelegate.m</em> file and add sdk import:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#import &lt;PiwikPROSDK/PiwikPROSDK.h&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Configure the tracker with your website ID and URL in the application delegate:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Configure the tracker in your application delegate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [PiwikTracker sharedInstanceWithSiteID:@&quot;01234567-89ab-cdef-0123-456789abcdef&quot; baseURL:[NSURL URLWithString:@&quot;https://your.piwik.pro.server.com&quot;]];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return YES;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-piwik-pro-sdk-with-the-swift-programming-language">Using Piwik PRO SDK with the Swift programming language<a href="#using-piwik-pro-sdk-with-the-swift-programming-language" class="hash-link" aria-label="Direct link to Using Piwik PRO SDK with the Swift programming language" title="Direct link to Using Piwik PRO SDK with the Swift programming language">​</a></h4><p>The Piwik PRO SDK is written in the Objective-C programming language. However, after installing the library from cocoapods, Xcode automatically generates Swift syntax for Objective-C calls.
When you edit a Swift file and type in an Objective-C class name, Swift version of the header file will be displayed.</p><p>Example of using the method to track a view in Objective-c:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendView:@&quot;Menu&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Same example in Swift:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import PiwikPROSDK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PiwikTracker.sharedInstance()?.sendView(view: &quot;Menu&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If there is a need to create the bridging header, see the apple tutorial <a href="https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_objective-c_into_swift" target="_blank" rel="noopener noreferrer">&quot;Importing Objective-C into Swift&quot;</a> for additional information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-piwik-pro-sdk">Using Piwik PRO SDK<a href="#using-piwik-pro-sdk" class="hash-link" aria-label="Direct link to Using Piwik PRO SDK" title="Direct link to Using Piwik PRO SDK">​</a></h2><p>SDK supports several different types of actions which can be tracked. If the event dispatch was unsuccessful (network error, server error, etc), the event will be saved in the disk cache and processing will be retried during the next dispatch attempt (in configured dispatch interval). Each event is stored in the disk cache for a specified cache age - the time which defines the maximum time for which event is saved locally.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-anonymization">Data anonymization<a href="#data-anonymization" class="hash-link" aria-label="Direct link to Data anonymization" title="Direct link to Data anonymization">​</a></h3><p>Anonymization is the feature that allows tracking a user&#x27;s activity for aggregated data analysis even if the user doesn&#x27;t consent to track the data. If a user does not agree to be tracked, he will not be identified as the same person across multiple sessions.</p><p>Personal data will not be tracked during the session (i.e. <a href="#user-id">user ID</a>, <a href="#device-id">device ID</a>)
If the anonymization is enabled, a new <a href="#visitor-id">visitor ID</a> will be created each time the application starts.</p><p>Anonymization is enabled by default.</p><p>You can turn the anonymization on and off by setting the value of the variable <code>isAnonymizationEnabled</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].isAnonymizationEnabled = NO;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-screen-views">Tracking screen views<a href="#tracking-screen-views" class="hash-link" aria-label="Direct link to Tracking screen views" title="Direct link to Tracking screen views">​</a></h3><p><em>Requires Analytics</em></p><p>The basic functionality of the SDK is the tracking screen views which represent the content the user is viewing in the application. To track a screen you only need to provide the name of the screen. This name is internally translated by the SDK to an HTTP URL as the Piwik PRO server uses URLs for tracking views. Additionally, Piwik PRO SDK uses prefixes which are inserted in generated URLs for various types of action(s). For tracking screen views it will use prefix <em>screen</em> by default however automatic prefixing can be disabled with the <em>isPrefixingEnabled</em> option. To start tracking screen views, add the following code to your view controllers.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- (void)viewDidAppear:(BOOL)animated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [super viewDidAppear:animated];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [[PiwikTracker sharedInstance] sendView:@&quot;Menu&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>A screen name (required) – title of the action being tracked. The appropriate screen path will be generated for this action.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-custom-events">Tracking custom events<a href="#tracking-custom-events" class="hash-link" aria-label="Direct link to Tracking custom events" title="Direct link to Tracking custom events">​</a></h3><p><em>Requires Analytics</em></p><p>Custm events can be used to track the user&#x27;s interaction with various custom components and features of your application, such as playing a song or a video. Category and action parameters are required while the name and value are optional. You can read more about events in the Piwik PRO <a href="https://help.piwik.pro/analytics/custom-events-overview/" target="_blank" rel="noopener noreferrer">documentation</a> and <a href="https://piwik.pro/blog/event-tracking-ultimate-guide/" target="_blank" rel="noopener noreferrer">ultimate guide to event tracking</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendEventWithCategory:@&quot;Video&quot; action:@&quot;Play&quot; name:@&quot;Pirates&quot; value:@185];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>sendEventWithCategory</code> method allows to specify next parameters:</p><ul><li><p>A category (required) – this String defines the event category. You may define event categories based on the class of user actions ( e.g. clicks, gestures, voice commands), or you may define them based upon the features available in your application (e.g. play, pause, fast forward, etc.).</p></li><li><p>An action (required) – this String defines the specific event action within the category specified. In the example, we are essentially saying that the category of the event is user clicks, and the action is a button click.</p></li><li><p>A name (optional) – this String defines a label associated with the event. For example, if you have multiple button controls on a screen, you might use the label to specify the specific View control identifier that was clicked.</p></li><li><p>A value (optional) – this Float defines a numerical value associated with the event. For example, if you were tracking &quot;Buy&quot; button clicks, you might log the number of items being purchased, or their total cost.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-exceptions">Tracking exceptions<a href="#tracking-exceptions" class="hash-link" aria-label="Direct link to Tracking exceptions" title="Direct link to Tracking exceptions">​</a></h3><p><em>Requires Analytics</em></p><p>Tracking exceptions allow the measurement of exceptions and errors in your app. Exceptions are tracked on the server in a similar way as screen views, however, URLs internally generated for exceptions always use the <em>fatal</em> or <em>caught</em> prefix and, additionally, if the <code>isPrefixingEnabled</code> option is enabled, then the additional <em>exception</em> prefix is added.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendExceptionWithDescription:@&quot;Content download error&quot; isFatal:YES];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>A description (required) – provides the exception message.</p></li><li><p>An isFatal (required) – true if an exception is fatal.</p></li></ul><p>Bear in mind that Piwik is not a crash tracker, use this sparingly.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-social-interactions">Tracking social interactions<a href="#tracking-social-interactions" class="hash-link" aria-label="Direct link to Tracking social interactions" title="Direct link to Tracking social interactions">​</a></h3><p><em>Requires Analytics</em></p><p>Social interactions such as likes, shares and comments in various social networks can be tracked as below. This, again, is tracked in a similar way as screen views but the <em>social</em> prefix is used when the default <code>isPrefixingEnabled</code> option is enabled.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendSocialInteractionWithAction:@&quot;like&quot; target:@&quot;Dogs&quot; network:@&quot;Facebook&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>An interaction (required) – defines the social interaction, e.g. &quot;Like&quot;.</p></li><li><p>A network (required) – defines the social network associated with interaction, e.g. &quot;Facebook&quot;</p></li><li><p>A target (optional) – the target for which this interaction occurred, e.g. &quot;Dogs&quot;.</p></li></ul><p>The URL corresponds to String, which includes network, interaction and target parameters separated by a slash.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-downloads">Tracking downloads<a href="#tracking-downloads" class="hash-link" aria-label="Direct link to Tracking downloads" title="Direct link to Tracking downloads">​</a></h3><p><em>Requires Analytics</em></p><p>You can track the downloads initiated by your application.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendDownload:@&quot;http://your.server.com/bonusmap.zip&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>A URL (required) – the URL of the downloaded content.</li></ul><p>No prefixes are used for tracking downloads, but each event of this type use an additional parameter <code>download</code> whose value equals to specified URL. On the analytics panel all, downloads can be viewed in the corresponding section.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-application-installs">Tracking application installs<a href="#tracking-application-installs" class="hash-link" aria-label="Direct link to Tracking application installs" title="Direct link to Tracking application installs">​</a></h3><p><em>Requires Analytics</em></p><p>You can also track installations of your application. This event is sent to the server only once per application version therefore if you wish to track installs, then you can add it in your application delegate immediately after configuring the tracker.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Configure the tracker in your application delegate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [PiwikTracker sharedInstanceWithSiteID:@&quot;01234567-89ab-cdef-0123-456789abcdef&quot; baseURL:[NSURL URLWithString:@&quot;https://your.piwik.pro.server.com&quot;]];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [[PiwikTracker sharedInstance] sendApplicationDownload];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return YES;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Application installation is only tracked during the first launch. In the case of the application being installed but not run, the app installation will not be tracked.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-outlinks">Tracking outlinks<a href="#tracking-outlinks" class="hash-link" aria-label="Direct link to Tracking outlinks" title="Direct link to Tracking outlinks">​</a></h3><p><em>Requires Analytics</em></p><p>For tracking outlinks to external websites or other apps opened from your application use the <code>sendOutlink</code> method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendOutlink:@&quot;http://great.website.com&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>A URL (required) – defines the outlink target. HTTPS, HTTP and FTP are valid.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-search-operations">Tracking search operations<a href="#tracking-search-operations" class="hash-link" aria-label="Direct link to Tracking search operations" title="Direct link to Tracking search operations">​</a></h3><p><em>Requires Analytics</em></p><p>Tracking search operations allow the measurement of popular keywords used for various search operations performed inside your application. It can be done via the <code>sendSearchWithKeyword</code> method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendSearchWithKeyword:@&quot;Space&quot; category:@&quot;Movies&quot; numberOfHits:@42];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>keyword</code> (required) – the searched query that was used in the app.</p></li><li><p><code>category</code> (optional) – specify a search category.</p></li><li><p><code>numberOfHits</code> (optional) – we recommend setting the search count to the number of search results displayed on the results page. When keywords are tracked with a count of 0, they will appear in the &quot;No Result Search Keyword&quot; report.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-content-impressions-and-interactions">Tracking content impressions and interactions<a href="#tracking-content-impressions-and-interactions" class="hash-link" aria-label="Direct link to Tracking content impressions and interactions" title="Direct link to Tracking content impressions and interactions">​</a></h3><p><em>Requires Analytics</em></p><p>You can track the impression of the ad in your application as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendContentImpressionWithName:@&quot;name&quot; piece:@&quot;piece&quot; target:@&quot;target&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the user interacts with the ad by tapping on it, you can also track it with a similar method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendContentInteractionWithName:@&quot;name&quot; piece:@&quot;piece&quot; target:@&quot;target&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>A contentName (required) – the name of the content, e.g. &quot;Ad Foo Bar&quot;.</p></li><li><p>A piece (optional) – the actual content. For instance the path to an image, video, audio, any text.</p></li><li><p>A target (optional) – the target of the content e.g. the URL of a landing page.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-goals">Tracking goals<a href="#tracking-goals" class="hash-link" aria-label="Direct link to Tracking goals" title="Direct link to Tracking goals">​</a></h3><p><em>Requires Analytics</em></p><p>Goaltracking is used to measure and improve your business objectives. To track goals, you first need to configure them on the server in your web panel. Goals such as, for example, subscribing to a newsletter can be tracked as below with the goal ID that you will see on the server after configuring the goal and optional revenue. The currency for the revenue can be set in the Piwik PRO Analytics settings. You can read more about goals <a href="https://help.piwik.pro/analytics/creating-managing-goals/" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendGoalWithID:2 revenue:@30];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>A goal (required) – tracking request will trigger a conversion for the goal of the website being tracked with this ID.</p></li><li><p><code>revenue</code> (optional) – a monetary value that was generated as revenue by this goal conversion.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-ecommerce-transactions">Tracking ecommerce transactions<a href="#tracking-ecommerce-transactions" class="hash-link" aria-label="Direct link to Tracking ecommerce transactions" title="Direct link to Tracking ecommerce transactions">​</a></h3><p><em>Requires Analytics</em></p><p>Ecommerce transactions (in-app purchases) can be tracked to help you improve your business strategy. To track a transaction you must provide two required values - the transaction identifier and <code>grandTotal</code>. Optionally, you can also provide values for <code>subTotal</code>, <code>tax</code>, <code>shippingCost</code>, <code>discount</code> and list of purchased items as in the example below.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendTransaction:[PiwikTransaction transactionWithBlock:^(PiwikTransactionBuilder *builder) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder.identifier = @&quot;transactionID&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder.grandTotal = @5.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder.subTotal = @4.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder.tax = @0.5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder.shippingCost = @1.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder.discount = @0.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [builder addItemWithSku:@&quot;sku1&quot; name:@&quot;bonus&quot; category:@&quot;maps&quot; price:@2.0 quantity:@1];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [builder addItemWithSku:@&quot;sku2&quot; name:@&quot;home&quot; category:@&quot;maps&quot; price:@3.0 quantity:@1];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}]];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>An identifier (required) – a unique string identifying the order</p></li><li><p><code>grandTotal</code> (required) –  The total amount of the order, in cents</p></li><li><p><code>subTotal</code> (optional) –  the subtotal (net price) for the order, in cents</p></li><li><p><code>tax</code> (optional) –  the tax for the order, in cents</p></li><li><p><code>shipping</code> (optional) –  the shipping for the order, in cents</p></li><li><p><code>discount</code> (optional) –  the discount for the order, in cents</p></li><li><p>Items (optional) –  the items included in the order, use the <code>addItemWithSku</code> method to instantiate items</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-campaigns">Tracking campaigns<a href="#tracking-campaigns" class="hash-link" aria-label="Direct link to Tracking campaigns" title="Direct link to Tracking campaigns">​</a></h3><p><em>Requires Analytics</em></p><p>Tracking campaign URLs created with the online <a href="https://piwik.pro/url-builder-tool/" target="_blank" rel="noopener noreferrer">Campaign URL Builder tool</a> allow you to measure how different campaigns (for example with Facebook ads or direct emails) bring traffic to your application. You can register a custom URL schema in your project settings to launch your application when users tap on the campaign link. You can track these URLs from the application delegate as below. The campaign information will be sent to the server together with the next analytics event. More details about campaigns can be found in the <a href="https://help.piwik.pro/support/reports/campaign-report/" target="_blank" rel="noopener noreferrer">documentation</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary *)options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return [[PiwikTracker sharedInstance] sendCampaign:url.absoluteString];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>A URL (required) – the campaign URL. HTTPS, HTTP and FTP are valid - the URL must contain a campaign name and keyword parameters.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-with-custom-variables">Tracking with custom variables<a href="#tracking-with-custom-variables" class="hash-link" aria-label="Direct link to Tracking with custom variables" title="Direct link to Tracking with custom variables">​</a></h3><p><em>The feature will soon be disabled. We recommend using <a href="#tracking-with-custom-dimensions">custom dimensions</a> instead.</em></p><p><em>Requires Analytics</em></p><p>To track custom name-value pairs assigned to your users or screen views, you can use custom variables. A custom variable can have a visit scope, which means that they are assigned to the whole visit of the user or action scope meaning that they are assigned only to the next tracked action such as screen view. You can find more information about custom variables <a href="https://help.piwik.pro/analytics/custom-variables/" target="_blank" rel="noopener noreferrer">here</a>:</p><p>It is required for names and values to be encoded in UTF-8.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] setCustomVariableForIndex:1 name:@&quot;filter&quot; value:@&quot;lcd&quot; scope:CustomVariableScopeAction];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>An index (required) – a given custom variable name must always be stored in the same &quot;index&quot; per session. For example, if you choose to store the variable name = &quot;Gender&quot; in index = 1 and you record another custom variable in index = 1, then the &quot;Gender&quot; variable will be deleted and replaced with new custom variable stored in index 1. Please note that some of the indexes are already reserved. See <a href="#default-custom-variables">Default custom variables</a> section for details.</p></li><li><p>A name (required) – this String defines the name of a specific Custom Variable such as &quot;User type&quot;. Limited to 200 characters.</p></li><li><p>A value (required) – this String defines the value of a specific Custom Variable such as &quot;Customer&quot;. Limited to 200 characters.</p></li><li><p>A scope (required) – this String allows the specification of the tracking event type - &quot;visit&quot;, &quot;action&quot;, etc. The scope is the value from the enum <code>CustomVariableScope</code> and could be <code>CustomVariableScopeVisit</code> or <code>CustomVariableScopeAction</code>.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-with-custom-dimensions">Tracking with custom dimensions<a href="#tracking-with-custom-dimensions" class="hash-link" aria-label="Direct link to Tracking with custom dimensions" title="Direct link to Tracking with custom dimensions">​</a></h3><p><em>Requires Analytics</em></p><p>You can also use custom dimensions to track custom values as below. Custom dimensions first have to be defined on the server in your web panel. More details about custom dimensions can be found in the <a href="https://help.piwik.pro/analytics/custom-dimensions/" target="_blank" rel="noopener noreferrer">documentation</a>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] setCustomDimensionForID:1 value:@&quot;english&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>An index (required) – a given custom dimension must always be stored in the same &quot;index&quot; per session, similar to custom variables. In example <code>1</code> is our dimension slot.</p></li><li><p>A value (required) – this String defines the value of a specific custom dimension such as &quot;English&quot;. Limited to 200 characters.</p></li></ul><p>Assigning a value to an already used index will overwrite the previously assigned value.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-profile-attributes">Tracking profile attributes<a href="#tracking-profile-attributes" class="hash-link" aria-label="Direct link to Tracking profile attributes" title="Direct link to Tracking profile attributes">​</a></h3><p><em>Requires Audience Manager</em></p><p>The Audience Manager stores visitors&#x27; profiles, which have data from a variety of sources. One of them can be a mobile application. It is possible to enrich the profiles with more attributes by passing any key-value pair like gender: male, favourite food: Italian, etc. It is recommended to set additional user identifiers such as <a href="#user-email-address">email</a> or <a href="#user-id">User ID</a>. This will allow the enrichment of existing profiles or merging profiles rather than creating a new profile. For example, if the user visited the website, browsed or filled in a form with his/her email (his data was tracked and profile created in Audience Manager) and, afterwards started using a mobile application, the existing profile will be enriched only if the email was set. Otherwise, a new profile will be created.</p><p>For sending profile attributes use the <code>sendProfileAttributeWithName</code> method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] sendProfileAttributeWithName:@&quot;food&quot; value:@&quot;chips&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>A name (required) – defines profile attribute name (non-null string).</p></li><li><p>A value (required) – defines profile attribute value (non-null string).</p></li></ul><p>Aside from attributes, each event also sends parameters, that are retrieved from the tracker instance:</p><ul><li>WEBSITE_ID - always sent,</li><li>USER_ID - if It is set. <a href="#user-id">Read more</a> about the User ID,</li><li>EMAIL - if It is set. <a href="#user-email-address">Read more</a> about the email,</li><li>VISITOR_ID - always sent, ID of the mobile application user, generated by SDK</li><li>DEVICE_ID - it is a device IDFA, which is not set by default (due to platform limitations). In order to set device ID see <a href="#device-id">Device ID</a> section below.</li></ul><p>Profile attributes for the user that are tracked will be shown on the Audience Manager - Profile Browser tab.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-user-profile-attributes">Reading user profile attributes<a href="#reading-user-profile-attributes" class="hash-link" aria-label="Direct link to Reading user profile attributes" title="Direct link to Reading user profile attributes">​</a></h3><p><em>Requires Audience Manager</em></p><p>It is possible to read the attributes of a given profile, however, with some limitations. Due to of security reasons to avoid personal data leakage, it is possible to read only attributes that were enabled for API access (whitelisted) in the Attributes section of Audience Manager. To get user profile attributes use the <code>audienceManagerGetProfileAttributes</code> method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] audienceManagerGetProfileAttributes:^(NSDictionary *profileAttributes, NSError * _Nullable error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with attributes list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>completionBlock</code> (required) – callback to handle request result (call is asynchronous)</p></li><li><p><code>profileAttributes</code> (output) – dictionary of key-value pairs, where each pair represent attribute name (key) and value.</p></li><li><p><code>errorData</code> (output) – in case of error only, this method will be called. This method passes the error string.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-audience-membership">Checking audience membership<a href="#checking-audience-membership" class="hash-link" aria-label="Direct link to Checking audience membership" title="Direct link to Checking audience membership">​</a></h3><p><em>Requires Audience Manager</em></p><p>Audience check allows one to check if the user belongs to a specific group of users defined in the audience manger panel based on analytics data and audience manager profile attributes. You can check if the user belongs to a given audience, for example, to display him/her some type of special offer like in the example below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[[PiwikTracker sharedInstance] checkMembershipWithAudienceID:@&quot;12345678-90ab-cdef-1234-567890abcdef&quot; completionBlock:^(BOOL isMember, NSError * _Nullable error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something if is member or handle error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>audienceId</code> (required) – ID of the audience (Audience Manager -&gt; Audiences tab)</p></li><li><p><code>completionBlock</code> (required) – callback to handle request result (call is asynchronous)</p></li><li><p><code>isMember</code> (output) – a boolean value that indicates if the user belongs to an audience with a given ID</p></li><li><p><code>error</code> (output) – in case of error only, this method will be called. Method pass the error string.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-usage">Advanced usage<a href="#advanced-usage" class="hash-link" aria-label="Direct link to Advanced usage" title="Direct link to Advanced usage">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-id">User ID<a href="#user-id" class="hash-link" aria-label="Direct link to User ID" title="Direct link to User ID">​</a></h3><p>The user ID is an additional, optional non-empty unique string identifying the user (not set by default). It can be, for example, a unique username or user&#x27;s email address. If the provided user ID is sent to the analytics part together with the visitor ID (which is always automatically generated by the SDK), it allows the association of events from various platforms (for example iOS and Android) to the same user provided that the same user ID is used on all platforms. More about <a href="https://help.piwik.pro/tag-manager/userid/" target="_blank" rel="noopener noreferrer">UserID</a>. In order to set User ID use <code>userID</code> field:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].userID = @&quot;User Name&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>userID</code> (required) – any non-empty unique string identifying the user. Passing null will delete the current user ID</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-email-address">User email address<a href="#user-email-address" class="hash-link" aria-label="Direct link to User email address" title="Direct link to User email address">​</a></h3><p>The user email address is another additional, optional string for user identification - if the provided user email is sent to the audience manager part when you send the custom profile attribute configured on the audience manager web panel. Similarly to the user ID, it allows the association of data from various platforms (for example iOS and Android) to the same user as long as the same email is used on all platforms. To set user email use the <code>userEmail</code> field:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].userEmail = @&quot;user@email.com&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>A userMail (required) – any non-null string representing email address</li></ul><p>It is recommended to set the user email to track audience manager profile attributes as it will create a better user profile.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="visitor-id">Visitor ID<a href="#visitor-id" class="hash-link" aria-label="Direct link to Visitor ID" title="Direct link to Visitor ID">​</a></h3><p>SDK uses various IDs for tracking the user. The main one is visitor ID, which is internally randomly generated once by the SDK on the first usage and is then stored locally on the device. The visitor ID will never change unless the user removes the application from the device so that all events sent from his device will always be assigned to the same user in the Piwik PRO web panel.
When the anonymization is enabled, a new visitor id is generated each time the application is started.
We recommend using userID instead of VisitorID.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sessions">Sessions<a href="#sessions" class="hash-link" aria-label="Direct link to Sessions" title="Direct link to Sessions">​</a></h3><p>A session represents a set of user&#x27;s interactions with your app. By default, Analytics is closing the session after 30 minutes of inactivity, counting from the last recorded event in session and when the user will open up the app again the new session is started. You can configure the tracker to automatically close the session when users have placed your app in the background for a period of time. That period is defined by the <code>sessionTimeout</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].sessionTimeout = 1800</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>sessionTimeout (required) – session timeout time in seconds. Default: 1800 seconds (30 minutes).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="device-id">Device ID<a href="#device-id" class="hash-link" aria-label="Direct link to Device ID" title="Direct link to Device ID">​</a></h3><p>The device ID is used to track the IDFA (identifier for advertising). The IDFA is an additional, optional non-empty unique string identifying the device. If you wish to use the IDFA for tracking then you should set the device ID by yourself. Note that if you plan to send your application to the App Store and your application uses IDFA, but does not display ads, then it may be rejected in the App Store review process. You can set the IDFA as in the example below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#import &lt;AdSupport/ASIdentifierManager.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NSString *idfa = [[[ASIdentifierManager sharedManager] advertisingIdentifier] UUIDString];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].deviceID = idfa;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dispatching">Dispatching<a href="#dispatching" class="hash-link" aria-label="Direct link to Dispatching" title="Direct link to Dispatching">​</a></h3><p>All tracking events are saved locally and by default. They are automatically sent to the server every 30 seconds. You can change this interval to any other number as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].dispatchInterval = 60;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gzip-compression">Gzip compression<a href="#gzip-compression" class="hash-link" aria-label="Direct link to Gzip compression" title="Direct link to Gzip compression">​</a></h3><p>You can enable gzip compression for communication with the server as below. By default, requests to the server do not use compression.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].useGzip = YES;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This feature must also be set on server-side using mod_deflate/APACHE or lua_zlib/NGINX
(<a href="https://github.com/brimworks/lua-zlib" target="_blank" rel="noopener noreferrer">lua_zlib</a> - <a href="https://github.com/openresty/lua-nginx-module/" target="_blank" rel="noopener noreferrer">lua-nginx-module</a> - <a href="https://gist.github.com/davidcaste/05b2f9461ebe4a3bb3fc" target="_blank" rel="noopener noreferrer">inflate.lua samples</a>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-custom-variables">Default custom variables<a href="#default-custom-variables" class="hash-link" aria-label="Direct link to Default custom variables" title="Direct link to Default custom variables">​</a></h3><p>The SDK, by default, automatically adds some information in custom variables about the device (index 1), system version (index 2) and app version (index 3). By default, this option is turned on. This behavior can be disabled with the following setting:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].includeDefaultCustomVariable = NO;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In case you need to configure custom variables separately, turn off this option and see the section above about tracking custom variables.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-storage-limits">Local storage limits<a href="#local-storage-limits" class="hash-link" aria-label="Direct link to Local storage limits" title="Direct link to Local storage limits">​</a></h3><p>You can set limits for storing events related to maximum size and time for which events are saved in local storage. By default, the maximum number of queued events is set to 500 and there is no age limit. It can be changed as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].maxNumberOfQueuedEvents = 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].maxAgeOfQueuedEvents = 60 * 60 * 24;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>maxNumberOfQueuedEvents</code> (required) – the maximum number of events after which events in the queue are deleted. By default, the limit is set to 500.</p></li><li><p><code>maxAgeOfQueuedEvents</code> (required) – time in ms after which events are deleted. By default, the limit is set to 7 <em> 24 </em> 60 <em> 60 </em> 1000 ms = 7 days.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opt-out">Opt-out<a href="#opt-out" class="hash-link" aria-label="Direct link to Opt-out" title="Direct link to Opt-out">​</a></h3><p>You can disable all tracking in the application by using the opt-out feature. No events will be sent to the server if the opt-out is set. By default, opt-out is not set and events are tracked.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[PiwikTracker sharedInstance].optOut = YES;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sdks/iOS-sdk.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sdk-configuration" class="table-of-contents__link toc-highlight">SDK configuration</a><ul><li><a href="#server" class="table-of-contents__link toc-highlight">Server</a></li><li><a href="#client" class="table-of-contents__link toc-highlight">Client</a></li></ul></li><li><a href="#using-piwik-pro-sdk" class="table-of-contents__link toc-highlight">Using Piwik PRO SDK</a><ul><li><a href="#data-anonymization" class="table-of-contents__link toc-highlight">Data anonymization</a></li><li><a href="#tracking-screen-views" class="table-of-contents__link toc-highlight">Tracking screen views</a></li><li><a href="#tracking-custom-events" class="table-of-contents__link toc-highlight">Tracking custom events</a></li><li><a href="#tracking-exceptions" class="table-of-contents__link toc-highlight">Tracking exceptions</a></li><li><a href="#tracking-social-interactions" class="table-of-contents__link toc-highlight">Tracking social interactions</a></li><li><a href="#tracking-downloads" class="table-of-contents__link toc-highlight">Tracking downloads</a></li><li><a href="#tracking-application-installs" class="table-of-contents__link toc-highlight">Tracking application installs</a></li><li><a href="#tracking-outlinks" class="table-of-contents__link toc-highlight">Tracking outlinks</a></li><li><a href="#tracking-search-operations" class="table-of-contents__link toc-highlight">Tracking search operations</a></li><li><a href="#tracking-content-impressions-and-interactions" class="table-of-contents__link toc-highlight">Tracking content impressions and interactions</a></li><li><a href="#tracking-goals" class="table-of-contents__link toc-highlight">Tracking goals</a></li><li><a href="#tracking-ecommerce-transactions" class="table-of-contents__link toc-highlight">Tracking ecommerce transactions</a></li><li><a href="#tracking-campaigns" class="table-of-contents__link toc-highlight">Tracking campaigns</a></li><li><a href="#tracking-with-custom-variables" class="table-of-contents__link toc-highlight">Tracking with custom variables</a></li><li><a href="#tracking-with-custom-dimensions" class="table-of-contents__link toc-highlight">Tracking with custom dimensions</a></li><li><a href="#tracking-profile-attributes" class="table-of-contents__link toc-highlight">Tracking profile attributes</a></li><li><a href="#reading-user-profile-attributes" class="table-of-contents__link toc-highlight">Reading user profile attributes</a></li><li><a href="#checking-audience-membership" class="table-of-contents__link toc-highlight">Checking audience membership</a></li></ul></li><li><a href="#advanced-usage" class="table-of-contents__link toc-highlight">Advanced usage</a><ul><li><a href="#user-id" class="table-of-contents__link toc-highlight">User ID</a></li><li><a href="#user-email-address" class="table-of-contents__link toc-highlight">User email address</a></li><li><a href="#visitor-id" class="table-of-contents__link toc-highlight">Visitor ID</a></li><li><a href="#sessions" class="table-of-contents__link toc-highlight">Sessions</a></li><li><a href="#device-id" class="table-of-contents__link toc-highlight">Device ID</a></li><li><a href="#dispatching" class="table-of-contents__link toc-highlight">Dispatching</a></li><li><a href="#gzip-compression" class="table-of-contents__link toc-highlight">Gzip compression</a></li><li><a href="#default-custom-variables" class="table-of-contents__link toc-highlight">Default custom variables</a></li><li><a href="#local-storage-limits" class="table-of-contents__link toc-highlight">Local storage limits</a></li><li><a href="#opt-out" class="table-of-contents__link toc-highlight">Opt-out</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e80d0e85.js"></script>
<script src="/assets/js/main.52bc0e6c.js"></script>
</body>
</html>