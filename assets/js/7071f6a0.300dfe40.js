"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[5030],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=d(n),m=i,k=c["".concat(p,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(k,o(o({ref:t},s),{},{components:n})):a.createElement(k,o({ref:t},s))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9461:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=n(7462),i=(n(7294),n(3905));const r={},o=void 0,l={unversionedId:"data-collection/processing/event_type_detection",id:"data-collection/processing/event_type_detection",title:"event_type_detection",description:"Event type detection =================",source:"@site/docs/data-collection/processing/event_type_detection.md",sourceDirName:"data-collection/processing",slug:"/data-collection/processing/event_type_detection",permalink:"/docs/data-collection/processing/event_type_detection",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/data-collection/processing/event_type_detection.md",tags:[],version:"current",frontMatter:{},sidebar:"dataCollectionSideBar",previous:{title:"Channel detection",permalink:"/docs/data-collection/processing/channel_detection"},next:{title:"index",permalink:"/docs/data-collection/web/frameworks/"}},p={},d=[{value:"Conversion",id:"conversion",level:2},{value:"Ping",id:"ping",level:2},{value:"Download",id:"download",level:2},{value:"Outlink",id:"outlink",level:2},{value:"Consent form click",id:"consent-form-click",level:2},{value:"Consent decision",id:"consent-decision",level:2},{value:"SharePoint",id:"sharepoint",level:2},{value:"Custom event",id:"custom-event",level:2},{value:"Content impression",id:"content-impression",level:2},{value:"Cart update",id:"cart-update",level:2},{value:"Order completed",id:"order-completed",level:2},{value:"Site search",id:"site-search",level:2},{value:"Page view",id:"page-view",level:2},{value:"Abandoned Cart",id:"abandoned-cart",level:2},{value:"Excluded Event",id:"excluded-event",level:2},{value:"Broken Event",id:"broken-event",level:2}],s={toc:d},c="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{id:"data-collection-processing-event-type-detection"},(0,i.kt)("p",null,"Event type detection =================")),(0,i.kt)("p",null,"Available event types -----------------"),(0,i.kt)("p",null,"Analyzing various properties of the tracked event we recognize one of\nthe following types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"PageView"),(0,i.kt)("li",{parentName:"ul"},"Outlink"),(0,i.kt)("li",{parentName:"ul"},"Download"),(0,i.kt)("li",{parentName:"ul"},"Search"),(0,i.kt)("li",{parentName:"ul"},"Custom"),(0,i.kt)("li",{parentName:"ul"},"ContentImpression"),(0,i.kt)("li",{parentName:"ul"},"ContentInteraction"),(0,i.kt)("li",{parentName:"ul"},"GoalConversion"),(0,i.kt)("li",{parentName:"ul"},"OrderCompleted"),(0,i.kt)("li",{parentName:"ul"},"AbandonedCart"),(0,i.kt)("li",{parentName:"ul"},"SharePoint"),(0,i.kt)("li",{parentName:"ul"},"ConsentFormImpression"),(0,i.kt)("li",{parentName:"ul"},"ConsentFormClick"),(0,i.kt)("li",{parentName:"ul"},"ConsentDecision"),(0,i.kt)("li",{parentName:"ul"},"CustomPing"),(0,i.kt)("li",{parentName:"ul"},"CartUpdated"),(0,i.kt)("li",{parentName:"ul"},"BrokenEvent"),(0,i.kt)("li",{parentName:"ul"},"ExcludedEvent"),(0,i.kt)("li",{parentName:"ul"},"Heartbeat"),(0,i.kt)("li",{parentName:"ul"},"Deanonymization"),(0,i.kt)("li",{parentName:"ul"},"PagePerformance")),(0,i.kt)("h1",{id:"detection-order"},"Detection order"),(0,i.kt)("p",null,"This section describes the order of the event type detection. Process is\nsatisfied with the first match, after that it stops and no further\nmatching is performed."),(0,i.kt)("h2",{id:"conversion"},"Conversion"),(0,i.kt)("p",null,"First step in the event type detection process is a check for conversion\nsigns in the tracked event. If your tracked event had an ",(0,i.kt)("inlineCode",{parentName:"p"},"idgoal"),"\nparameter with the ID value other than ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," then it will be marked as\n",(0,i.kt)("inlineCode",{parentName:"p"},"GoalConversion")," type."),(0,i.kt)("h2",{id:"ping"},"Ping"),(0,i.kt)("p",null,"Then the ",(0,i.kt)("inlineCode",{parentName:"p"},"ping")," parameter is analyzed. Depending on it's value one of\nthe following ping types will be assigned:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"values ",(0,i.kt)("inlineCode",{parentName:"li"},"1"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"2")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"3")," result in ",(0,i.kt)("inlineCode",{parentName:"li"},"Heartbeat")," ping type"),(0,i.kt)("li",{parentName:"ul"},"value of ",(0,i.kt)("inlineCode",{parentName:"li"},"4")," results in ",(0,i.kt)("inlineCode",{parentName:"li"},"Deanonymization")," ping type"),(0,i.kt)("li",{parentName:"ul"},"value of ",(0,i.kt)("inlineCode",{parentName:"li"},"5")," results in ",(0,i.kt)("inlineCode",{parentName:"li"},"PagePerformance")," ping type"),(0,i.kt)("li",{parentName:"ul"},"value of ",(0,i.kt)("inlineCode",{parentName:"li"},"6")," results in ",(0,i.kt)("inlineCode",{parentName:"li"},"CustomPing")," ping type")),(0,i.kt)("p",null,"Values outside of that range will cause an error which results in\nBrokenEvent."),(0,i.kt)("h2",{id:"download"},"Download"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"Download")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"download")," parameter of the\ntracked event is provided."),(0,i.kt)("h2",{id:"outlink"},"Outlink"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"Outlink")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"link")," parameter of the\ntracked event is provided."),(0,i.kt)("p",null,"Consent form impression ","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"ConsentFormImpression")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"e_c"),"\nparameter of the tracked event has value ",(0,i.kt)("inlineCode",{parentName:"p"},"consent_form_impression"),"\nassigned."),(0,i.kt)("h2",{id:"consent-form-click"},"Consent form click"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"ConsentFormClick")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"e_c")," parameter of\nthe tracked event has value ",(0,i.kt)("inlineCode",{parentName:"p"},"consent_form_click")," assigned."),(0,i.kt)("h2",{id:"consent-decision"},"Consent decision"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"ConsentDecision")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"e_c")," parameter of\nthe tracked event has value ",(0,i.kt)("inlineCode",{parentName:"p"},"consent_decision")," assigned."),(0,i.kt)("h2",{id:"sharepoint"},"SharePoint"),(0,i.kt)("p",null,"SharePoint event type detection is a bit more complicated. For the event\nto be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"SharePoint")," type two things must occur:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Custom Variable 1 key has to be equal to ",(0,i.kt)("inlineCode",{parentName:"li"},"ppas.sharepoint.plugin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"e_c")," parameter has to be equal to either ",(0,i.kt)("inlineCode",{parentName:"li"},"download")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"search"))),(0,i.kt)("h2",{id:"custom-event"},"Custom event"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"Custom")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"e_c")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"e_a")," parameters of\nthe tracked event are provided."),(0,i.kt)("p",null,"Content interaction ","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"ContentInteraction")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"c_i")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"c_n"),"\nparameters of the tracked event are provided."),(0,i.kt)("h2",{id:"content-impression"},"Content impression"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"ContentImpression")," when only ",(0,i.kt)("inlineCode",{parentName:"p"},"c_n"),"\nparameter of the tracked event is provided (and ",(0,i.kt)("inlineCode",{parentName:"p"},"c_i")," is not)."),(0,i.kt)("h2",{id:"cart-update"},"Cart update"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"CartUpdated")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"idgoal")," parameter of\nthe tracked event is equal to ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"ec_id")," parameter is NOT provided."),(0,i.kt)("h2",{id:"order-completed"},"Order completed"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"OrderCompleted")," when ",(0,i.kt)("inlineCode",{parentName:"p"},"idgoal")," parameter of\nthe tracked event is equal to ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," but also ",(0,i.kt)("inlineCode",{parentName:"p"},"ec_id")," parameter is\nprovided."),(0,i.kt)("h2",{id:"site-search"},"Site search"),(0,i.kt)("p",null,"Event will be categorized as ",(0,i.kt)("inlineCode",{parentName:"p"},"Search")," when either ",(0,i.kt)("inlineCode",{parentName:"p"},"search")," parameter of\nthe tracked event is provided or a search term was detected in the\ntracked url (provided as the ",(0,i.kt)("inlineCode",{parentName:"p"},"url")," parameter)."),(0,i.kt)("h2",{id:"page-view"},"Page view"),(0,i.kt)("p",null,"When every other detection step failed then your event will be\ncategoried as a simple ",(0,i.kt)("inlineCode",{parentName:"p"},"PageView"),"."),(0,i.kt)("h1",{id:"special-cases"},"Special cases"),(0,i.kt)("p",null,"As you have probly noticed already, there are 3 event types missing in\nthe detection process steps."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"AbandonedCart"),(0,i.kt)("li",{parentName:"ul"},"ExcludedEvent"),(0,i.kt)("li",{parentName:"ul"},"BrokenEvent")),(0,i.kt)("p",null,'That is because those type are not "detected" but rather are a result of\nthe post-processing of an event or a session.'),(0,i.kt)("h2",{id:"abandoned-cart"},"Abandoned Cart"),(0,i.kt)("p",null,"When a session did not track a ",(0,i.kt)("inlineCode",{parentName:"p"},"OrderCompleted")," event, the last event of\n",(0,i.kt)("inlineCode",{parentName:"p"},"CartUpdate")," type will be converted to ",(0,i.kt)("inlineCode",{parentName:"p"},"AbandonedCart"),"."),(0,i.kt)("h2",{id:"excluded-event"},"Excluded Event"),(0,i.kt)("p",null,"There are several ways of excluding an event (e.g. by blacklisting\nsource IP or User-Agent header matching). If an event matches given\ncriteria it will be excluded from the reports but is still tracked and\nreceives ",(0,i.kt)("inlineCode",{parentName:"p"},"ExcludedEvent")," type. If you experience any report\nabnormalities you may check Tracker Debugger if any of the legitimate\ntraffic is not excluded by mistake."),(0,i.kt)("h2",{id:"broken-event"},"Broken Event"),(0,i.kt)("p",null,"The last type is assigned to the tracked event when any error occurs\nduring the processing (e.g. you provided incorrect value in the ",(0,i.kt)("inlineCode",{parentName:"p"},"idgoal"),"\nparameter, provided ",(0,i.kt)("inlineCode",{parentName:"p"},"idsite")," does not exist, etc). That way you can\nstill check it in the Tracker Debugger and attached error message will\ntell you what is wrong with it."))}u.isMDXComponent=!0}}]);