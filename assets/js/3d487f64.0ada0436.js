"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[2302],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},k="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),k=s(a),u=n,m=k["".concat(p,".").concat(u)]||k[u]||d[u]||i;return a?r.createElement(m,o(o({ref:t},c),{},{components:a})):r.createElement(m,o({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[k]="string"==typeof e?e:n,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},89624:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=a(87462),n=(a(67294),a(3905));const i={},o=void 0,l={unversionedId:"sdks/android-sdk/getting-started",id:"sdks/android-sdk/getting-started",title:"getting-started",description:"\\===== Getting started ===== Our SDK for Android lets you collect user",source:"@site/docs/sdks/android-sdk/getting-started.md",sourceDirName:"sdks/android-sdk",slug:"/sdks/android-sdk/getting-started",permalink:"/docs/sdks/android-sdk/getting-started",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sdks/android-sdk/getting-started.md",tags:[],version:"current",frontMatter:{}},p={},s=[{value:"Method #1",id:"method-1",level:2},{value:"Method #2",id:"method-2",level:2}],c={toc:s},k="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(k,(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("div",{id:"android getting started"},(0,n.kt)("p",null,"\\===== Getting started ===== Our SDK for Android lets you collect user\ndata from mobile apps built for Android. It contains over 30 built-in\nmethods that let you easily track screen views, goals, ecommerce orders,\nand more.")),(0,n.kt)("p",null,"To get started you need to set up your account in Piwik PRO, install our\nlibrary, and set up the tracker."),(0,n.kt)("h1",{id:"set-up-piwik-pro"},"Set up Piwik PRO"),(0,n.kt)("p",null,"Before you install our library for Android, you need to set up Piwik\nPRO. Here's what you need to do:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Log in to ",(0,n.kt)("strong",{parentName:"li"},"Piwik PRO"),"."),(0,n.kt)("li",{parentName:"ol"},"Go to ",(0,n.kt)("strong",{parentName:"li"},"Menu")," ",">"," ",(0,n.kt)("strong",{parentName:"li"},"Administration"),"."),(0,n.kt)("li",{parentName:"ol"},"Navigate to ",(0,n.kt)("strong",{parentName:"li"},"Sites & apps"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Add a site or app"),"."),(0,n.kt)("li",{parentName:"ol"},"Type the app name and address, and click ",(0,n.kt)("strong",{parentName:"li"},"Save"),"."),(0,n.kt)("li",{parentName:"ol"},"Set the time zone and currency."),(0,n.kt)("li",{parentName:"ol"},"Note the site/app ID. The ID is under the app name. Example:\n",(0,n.kt)("inlineCode",{parentName:"li"},"00000000-0000-0000-0000-000000000000"),"."),(0,n.kt)("li",{parentName:"ol"},"Note your account address. Example: ",(0,n.kt)("inlineCode",{parentName:"li"},"https://example.piwik.pro"),".")),(0,n.kt)("h1",{id:"install-the-library"},"Install the library"),(0,n.kt)("p",null,"To install the library, follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Add the JitPack repository to your root ",(0,n.kt)("inlineCode",{parentName:"li"},"build.gradle")," file at the\nend of repositories:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"allprojects {\nrepositories {\n  ...\n  maven { url 'https://jitpack.io' }\n}\n}\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Add the dependency to the application module ",(0,n.kt)("inlineCode",{parentName:"li"},"build.gradle")," file:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"dependencies {\nimplementation 'pro.piwik:sdk-framework-android:VERSION'\n}\n")),(0,n.kt)("p",null,"Note: Replace ",(0,n.kt)("inlineCode",{parentName:"p"},"VERSION")," with the latest release name. Example: ",(0,n.kt)("inlineCode",{parentName:"p"},"1.1.8"),".\n(",(0,n.kt)("a",{parentName:"p",href:"https://jitpack.io/#pro.piwik/sdk-framework-android"},"Where to find\nit?"),")"),(0,n.kt)("h1",{id:"set-up-the-tracker"},"Set up the tracker"),(0,n.kt)("p",null,"To set up the Piwik PRO tracker, you can use two methods: (1) create and\nmanege the tracker in the Application class or (2) manage the tracker on\nyour own."),(0,n.kt)("h2",{id:"method-1"},"Method ","#","1"),(0,n.kt)("p",null,"We recommend using this method for most cases. It forces the\nimplementation of just one abstract method."),(0,n.kt)("p",null,"To set up the Piwik PRO tracker, follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Extend ",(0,n.kt)("inlineCode",{parentName:"li"},"PiwikApplication")," class with your Android Application class.\nUse your account address (Example: ",(0,n.kt)("inlineCode",{parentName:"li"},"https://example.piwik.pro/"),") and\nthe site/app ID (",(0,n.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/questions/find-website-id/"},"Where to find\nit?"),")")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'public class YourApplication extends PiwikApplication{\n    @Override\n    public TrackerConfig onCreateTrackerConfig() {\n        return TrackerConfig.createDefault("account-address", "site-id");\n    }\n}\n')),(0,n.kt)("p",null,"Tip: See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/PiwikPRO/piwik-pro-sdk-demo-android"},"our demo\napp")," where we\nused this method."),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Share the ",(0,n.kt)("inlineCode",{parentName:"li"},"Tracker")," instance across your app. The ",(0,n.kt)("inlineCode",{parentName:"li"},"Tracker")," is now\nthread-safe.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"Tracker tracker = ((PiwikApplication) getApplication()).getTracker();\n")),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},"Done","!"," Now your app can use Piwik PRO SDK."),(0,n.kt)("li",{parentName:"ol"},"We recommend using the ",(0,n.kt)("inlineCode",{parentName:"li"},"TrackHelper")," class to track events. For\ntracking each event with ",(0,n.kt)("inlineCode",{parentName:"li"},"TrackHelper"),", you will need to pass the\n",(0,n.kt)("inlineCode",{parentName:"li"},"Tracker")," instance.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'Tracker tracker = ((PiwikApplication) getApplication()).getTracker();\nTrackHelper.track().screen("Main screen").with(tracker);\n')),(0,n.kt)("p",null,"Note: The ",(0,n.kt)("inlineCode",{parentName:"p"},"TrackerHelper")," class has methods for all common actions,\nwhich can be chained to facilitate the correct order and use. Combine it\nwith the IDE autocompletion, and using the SDK will be more convenient."),(0,n.kt)("h2",{id:"method-2"},"Method ","#","2"),(0,n.kt)("p",null,"To set up the Piwik PRO tracker, follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Manage the tracker on your own. Use your account address (Example:\n",(0,n.kt)("inlineCode",{parentName:"li"},"https://example.piwik.pro/"),") and the site/app ID (",(0,n.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/questions/find-website-id/"},"Where to find\nit?"),").")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'public class YourApplication extends Application {\n    private Tracker tracker;\n    public synchronized Tracker getTracker() {\n        if (tracker == null) tracker = Piwik.getInstance(this).newTracker(new TrackerConfig(""account-address", "site-id", "Default Tracker"));\n        return tracker;\n    }\n}\n')),(0,n.kt)("p",null,"Note: We recommend using just one tracker instance for your app.\nOtherwise, you can end up with over-counted metrics."),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Share the ",(0,n.kt)("inlineCode",{parentName:"li"},"Tracker")," instance across your app. The ",(0,n.kt)("inlineCode",{parentName:"li"},"Tracker")," is now\nthread-safe.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"Tracker tracker = ((YourApplication) getApplication()).getTracker();\n")),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},"Done","!"," Now your app can use Piwik PRO SDK."),(0,n.kt)("li",{parentName:"ol"},"We recommend using the ",(0,n.kt)("inlineCode",{parentName:"li"},"TrackHelper")," class to track events. For\ntracking each event with ",(0,n.kt)("inlineCode",{parentName:"li"},"TrackHelper"),", you will need to pass the\n",(0,n.kt)("inlineCode",{parentName:"li"},"Tracker")," instance.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'Tracker tracker = ((YourApplication) getApplication()).getTracker();\nTrackHelper.track().screen("Main screen").with(tracker);\n')),(0,n.kt)("p",null,"Note: The ",(0,n.kt)("inlineCode",{parentName:"p"},"TrackerHelper")," class has methods for all common actions,\nwhich can be chained to facilitate the correct order and use. Combine it\nwith the IDE autocompletion, and using the SDK will be more convenient."),(0,n.kt)("h1",{id:"kotlin"},"Kotlin"),(0,n.kt)("p",null,"Our SDK is written in Java, but it can also be used in Kotlin. If you\nrefer to any of our SDK methods in Kotlin, it'll be automatically shown\nas a Kotlin syntax."),(0,n.kt)("p",null,"Here's an example of the ",(0,n.kt)("strong",{parentName:"p"},"track().screen()")," method in both languages:"),(0,n.kt)("div",{class:"tabs"},(0,n.kt)("div",{class:"group-tab"},(0,n.kt)("p",null,"Java"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'Tracker tracker = ((PiwikApplication) getApplication()).getTracker();\nTrackHelper.track().screen("path").title("title").with(tracker);\n'))),(0,n.kt)("div",{class:"group-tab"},(0,n.kt)("p",null,"Kotlin"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'val tracker: Tracker = (application as PiwikApplication).tracker\nTrackHelper.track().screen("path").title("title").with(tracker)\n')))),(0,n.kt)("p",null,"Tip: For more on calling Java from Kotlin, ",(0,n.kt)("a",{parentName:"p",href:"https://kotlinlang.org/docs/java-interop.html"},"see this\narticle"),"."))}d.isMDXComponent=!0}}]);