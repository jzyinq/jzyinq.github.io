"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[7083],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=n.createContext({}),o=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=o(e.components);return n.createElement(p.Provider,{value:t},e.children)},k="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),k=o(a),m=l,d=k["".concat(p,".").concat(m)]||k[m]||u[m]||i;return a?n.createElement(d,r(r({ref:t},c),{},{components:a})):n.createElement(d,r({ref:t},c))}));function d(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[k]="string"==typeof e?e:l,r[1]=s;for(var o=2;o<i;o++)r[o]=a[o];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9174:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var n=a(7462),l=(a(7294),a(3905));const i={},r=void 0,s={unversionedId:"data-collection/web/javascript_tracking_client/api",id:"data-collection/web/javascript_tracking_client/api",title:"api",description:"js",source:"@site/docs/data-collection/web/javascript_tracking_client/api.md",sourceDirName:"data-collection/web/javascript_tracking_client",slug:"/data-collection/web/javascript_tracking_client/api",permalink:"/docs/data-collection/web/javascript_tracking_client/api",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/data-collection/web/javascript_tracking_client/api.md",tags:[],version:"current",frontMatter:{},sidebar:"dataCollectionSideBar",previous:{title:"JavaScript Tracking Client",permalink:"/docs/data-collection/web/javascript_tracking_client/"},next:{title:"installation",permalink:"/docs/data-collection/web/javascript_tracking_client/installation"}},p={},o=[{value:"Command queue",id:"command-queue",level:2},{value:"JavaScript Tracking Client object",id:"javascript-tracking-client-object",level:2},{value:"Tracking functions",id:"tracking-functions",level:2},{value:"Page views",id:"page-views",level:3},{value:"Custom events",id:"custom-events",level:3},{value:"Goal conversions",id:"goal-conversions",level:3},{value:"Site search",id:"site-search",level:3},{value:"E-commerce",id:"e-commerce",level:3},{value:"Custom Variables",id:"custom-variables",level:3},{value:"Custom Dimensions",id:"custom-dimensions",level:3},{value:"Custom dimensions object",id:"custom-dimensions-object",level:4},{value:"Content Tracking",id:"content-tracking",level:3},{value:"Impressions",id:"impressions",level:4},{value:"Interactions",id:"interactions",level:4},{value:"Download and Outlink",id:"download-and-outlink",level:3},{value:"User management",id:"user-management",level:3},{value:"Cookie management",id:"cookie-management",level:3},{value:"Cross domain linking",id:"cross-domain-linking",level:3},{value:"JavaScript Tracking Client configuration",id:"javascript-tracking-client-configuration",level:3},{value:"Miscellaneous",id:"miscellaneous",level:3}],c={toc:o},k="wrapper";function u(e){let{components:t,...a}=e;return(0,l.kt)(k,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{class:"default-domain"},(0,l.kt)("p",null,"js")),(0,l.kt)("h1",{id:"api"},"API"),(0,l.kt)("p",null,"The following API allows the user to:"),(0,l.kt)("blockquote",null,(0,l.kt)("ul",{parentName:"blockquote"},(0,l.kt)("li",{parentName:"ul"},"track page views"),(0,l.kt)("li",{parentName:"ul"},"track visits on multiple domains and subdomains"),(0,l.kt)("li",{parentName:"ul"},"track e-commerce events (successful orders, cart changes, product\nand category views)"),(0,l.kt)("li",{parentName:"ul"},"track content impressions"),(0,l.kt)("li",{parentName:"ul"},"manage custom variables to use them later"),(0,l.kt)("li",{parentName:"ul"},"track clicked links to external domains and download files"))),(0,l.kt)("div",{class:"contents"},(0,l.kt)("p",null,"Table of Contents")),(0,l.kt)("h2",{id:"command-queue"},"Command queue"),(0,l.kt)("p",null,"Code snippet with tracking code sets up globally accessible command\nqueue ",(0,l.kt)("inlineCode",{parentName:"p"},"_paq"),". Users can issue commands by pushing them onto the command\nqueue with ",(0,l.kt)("inlineCode",{parentName:"p"},"_paq.push")," function. This is the recommended method of\ncalling tracking functions."),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"_","paq.push(command)"),(0,l.kt)("p",null,"Issues a command, e.g. track page view, custom event, site search etc."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param Array\\<string",">"," command",(0,l.kt)("br",{parentName:"li"}),"Array containing a tracking function's",(0,l.kt)("span",{class:"title-ref"},"name")," followed by its arguments. The number of arguments and their meaning are determined by the tracking function."))),(0,l.kt)("p",null,"Example of usage (tracking a custom event by pushing a command to the\ncommand queue):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'_paq.push(["trackEvent", "video", "video-paused", "intro.mp4", 15.2]);\n')),(0,l.kt)("p",null,"Commands pushed onto the command queue will be executed once the\nJavaScript Tracking Client loads. After that, ",(0,l.kt)("inlineCode",{parentName:"p"},"_paq.push")," becomes\nsynchronous, meaning each command is executed at the moment of push."),(0,l.kt)("h2",{id:"javascript-tracking-client-object"},"JavaScript Tracking Client object"),(0,l.kt)("p",null,"JavaScript Tracking Client object offers an alternative method of\ncalling tracking functions. While it's more difficult to access than the\n",(0,l.kt)("inlineCode",{parentName:"p"},"command queue<jtc-api-command-queue>"),", it allows to read the return\nvalue of a tracking function and makes multi-tracker setups possible."),(0,l.kt)("p",null,"JavaScript Tracking Client object can be accessed using\n",(0,l.kt)("inlineCode",{parentName:"p"},"Piwik.getTracker<jtc-api-Piwik.getTracker>")," or\n",(0,l.kt)("inlineCode",{parentName:"p"},"Piwik.getAsyncTracker<jtc-api-Piwik.getAsyncTracker>")," function."),(0,l.kt)("div",{id:"jtc-api-Piwik.getTracker"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"Piwik.getTracker(trackerUrl, siteId)"),(0,l.kt)("p",null,"Getter for JavaScript Tracking Client object."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string trackerUrl",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," URL for JavaScript Tracking Client")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string siteId",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Site ID that will be linked to tracked data.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","JavaScript Tracking Client instance")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","object"))),(0,l.kt)("p",null,"Example of usage (accessing JavaScript Tracking Client object and\ntracking a custom event):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var jstc = Piwik.getTracker("https://example.com/", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\njstc.trackEvent("video", "video-paused", "intro.mp4", 15.2);\n')))),(0,l.kt)("div",{id:"jtc-api-Piwik.getAsyncTracker"},(0,l.kt)("p",null,"To access internal JavaScript Tracking Client object used for\nasynchronous tracking you must use the ",(0,l.kt)("inlineCode",{parentName:"p"},"Piwik.getAsyncTracker"),".")),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"Piwik.getAsyncTracker(trackerUrl, siteId)"),(0,l.kt)("p",null,"Getter for JavaScript Tracking Client instance."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string trackerUrl",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," URL for JavaScript Tracking Client")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string siteId",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Site ID that will be linked to tracked data.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","JavaScript Tracking Client instance")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","object"))),(0,l.kt)("p",null,"Example of usage (accessing JavaScript Tracking Client object and\ntracking a custom event):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var jstc = Piwik.getAsyncTracker("https://example.com/", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\njstc.trackEvent("video", "video-paused", "intro.mp4", 15.2);\n')),(0,l.kt)("p",null,"JavaScript Tracking Client object is also accessible through ",(0,l.kt)("inlineCode",{parentName:"p"},"this"),"\nkeyword in a special command pushed to command queue, where the first\nelement of the command array is a custom function. :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'_paq.push([function () {\n    // *this* is a JavaScript Tracking Client object\n    this.addEcommerceItem("01725334", "USB-C chord")\n    console.log(this.getEcommerceItems());\n}]);\n')),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"JavaScript Tracking Client object can't be accessed before JavaScript\nTracking Client file loads (usually a"),(0,l.kt)("span",{class:"title-ref"},"ppms.js")," file).")),(0,l.kt)("h2",{id:"tracking-functions"},"Tracking functions"),(0,l.kt)("p",null,"Tracking functions collect and send data to ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),". They can be called on a ",(0,l.kt)("inlineCode",{parentName:"p"},"JavaScript Tracking Client\nobject<jtc-api-jstc-object>")," or pushed to the ",(0,l.kt)("inlineCode",{parentName:"p"},"command\nqueue<jtc-api-command-queue>")," as commands."),(0,l.kt)("h3",{id:"page-views"},"Page views"),(0,l.kt)("div",{id:"jtc-api-trackPageView"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackPageView(","[","customPageTitle","]",")"),(0,l.kt)("p",null,"Tracks page view of the page that the function was run on."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string customPageTitle",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Optional")," Custom page title, used only for this event")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackPageView"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.trackPageView();\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"To overwrite page title for ",(0,l.kt)("strong",{parentName:"p"},"all events")," that will happen on the page\n(until a reload), use ",(0,l.kt)("inlineCode",{parentName:"p"},"setDocumentTitle<jtc-api-setDocumentTitle>"),"\nfunction.")),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView")," is included in the default JavaScript Tracking Client\nsetup snippet. It's likely you're already using it.")))),(0,l.kt)("h3",{id:"custom-events"},"Custom events"),(0,l.kt)("div",{id:"jtc-api-trackEvent"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackEvent(category, action","[",", name","[",", value","[",", dimensions","]","]","]",")"),(0,l.kt)("p",null,"Tracks custom event, e.g. when visitor interacts with the page."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string category",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Event category")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string action",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Event action")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string name",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Event name")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number value",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Event value")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param object dimensions",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," ",(0,l.kt)("inlineCode",{parentName:"p"},"Custom dimensions<jtc-api-custom-dimensions-object>"),"\nto pass along with the custom event"))),(0,l.kt)("p",null,"Example of usage (tracking when the visitor clicks on the cancel button\nwith exit intent):"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackEvent", "Exit intent", "Click on button", "Cancel"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackEvent("Exit intent", "Click on button", "Cancel");\n')))))),(0,l.kt)("h3",{id:"goal-conversions"},"Goal conversions"),(0,l.kt)("div",{id:"jtc-api-trackGoal"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackGoal(goalID","[",", conversionValue","[",", dimensions","]","]",")"),(0,l.kt)("p",null,"Tracks manual goal conversion."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number|string goalID",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Goal ID (integer or UUID)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number conversionValue",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Conversion value (revenue)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param object dimensions",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," ",(0,l.kt)("inlineCode",{parentName:"p"},"Custom dimensions<jtc-api-custom-dimensions-object>"),"\nto pass along with the conversion"))),(0,l.kt)("p",null,"Example of usage (tracking conversion of goal ",(0,l.kt)("em",{parentName:"p"},"1")," with value ",(0,l.kt)("em",{parentName:"p"},"15"),"):"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackGoal", 1, 15]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.trackGoal(1, 15);\n")))))),(0,l.kt)("h3",{id:"site-search"},"Site search"),(0,l.kt)("div",{id:"jtc-api-trackSiteSearch"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackSiteSearch(keyword","[",", category","[",", resultCount","[",", dimensions","]","]","]",")"),(0,l.kt)("p",null,"Tracks search requests on a website."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string keyword",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," What keyword the visitor entered into the search box")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string|Array\\<string",">"," category",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Category selected in the search engine")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number searchCount",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," The number of search results shown")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param object dimensions",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," ",(0,l.kt)("inlineCode",{parentName:"p"},"Custom dimensions<jtc-api-custom-dimensions-object>"),"\nto pass along with the site search event"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackSiteSearch", "stove", undefined, 20]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackSiteSearch("stove", undefined, 20);\n')))))),(0,l.kt)("h3",{id:"e-commerce"},"E-commerce"),(0,l.kt)("div",{id:"jtc-api-addEcommerceItem"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"addEcommerceItem(productSKU","[",", productName","[",", productCategory","[",",\nproductPrice","[",", productQuantity","]","]","]","]",")"),(0,l.kt)("p",null,"Adds a product to a virtual shopping cart. If a product with the same\nSKU is in the cart, it will be removed first. Does not send any data to\nthe ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing Pipeline"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string productSKU",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Product stock-keeping unit")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string productName",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Product name")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string|Array\\<string",">"," productCategory",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Product category or an array of up to 5 categories")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number productPrice",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Product price")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number productQuantity",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," The number of units"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["addEcommerceItem", "craft-311", "Unicorn Iron on Patch", "Crafts & Sewing", 499, 3]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.addEcommerceItem("craft-311", "Unicorn Iron on Patch", "Crafts & Sewing", 499, 3);\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"This function does not send any data to ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),". It only prepares the virtual shopping cart to be sent with\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceCartUpdate<jtc-api-trackEcommerceCartUpdate>")," or\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceOrder<jtc-api-trackEcommerceOrder>"),".")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The state of the virtual shopping cart is not persisted in browser\nstorage. You must add all products again after a page reload.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Adding a product with a SKU that has been previously added will first\nremove the old product, e.g.:")),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["addEcommerceItem", "72625151", "Yellow notebook 150 pages", "School supplies", 10.00, 1]); // 1 item with sku 72625151\n_paq.push(["addEcommerceItem", "72625151", "Yellow notebook 150 pages", "School supplies", 10.00, 2]); // 2 items with sku 72625151, not 3!\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.addEcommerceItem("72625151", "Yellow notebook 150 pages", "School supplies", 10.00, 1); // 1 item with sku 72625151\njstc.addEcommerceItem("72625151", "Yellow notebook 150 pages", "School supplies", 10.00, 2); // 2 items with sku 72625151, not 3!\n')))))),(0,l.kt)("div",{id:"jtc-api-removeEcommerceItem"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"removeEcommerceItem(productSKU)"),(0,l.kt)("p",null,"Removes a product with the provided SKU from a virtual shopping cart. If\nmultiple units of that product are in the virtual cart, all of them will\nbe removed. Does not send any data to the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string productSKU",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," stock-keeping unit of a product to remove")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["removeEcommerceItem", "craft-311"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.removeEcommerceItem("craft-311");\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"This function does not send any data to ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),". It only prepares the virtual shopping cart to be sent with\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceCartUpdate<jtc-api-trackEcommerceCartUpdate>")," or\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceOrder<jtc-api-trackEcommerceOrder>"),".")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The state of the virtual shopping cart is not persisted in browser\nstorage. You must add all products again after a page reload.")))),(0,l.kt)("div",{id:"jtc-api-clearEcommerceCart"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"clearEcommerceCart()"),(0,l.kt)("p",null,"Removes all items from a virtual shopping cart. Does not send any data\nto the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing Pipeline"),"."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["clearEcommerceCart"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.clearEcommerceCart();\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"This function does not send any data to ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),". It only prepares the virtual shopping cart to be sent with\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceCartUpdate<jtc-api-trackEcommerceCartUpdate>")," or\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceOrder<jtc-api-trackEcommerceOrder>"),".")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The state of the virtual shopping cart is not persisted in browser\nstorage. You must add all products again after a page reload.")))),(0,l.kt)("div",{id:"jtc-api-getEcommerceItems"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getEcommerceItems()"),(0,l.kt)("p",null,"Returns a copy of items from a virtual shopping cart. Does not send any\ndata to the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing Pipeline"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","Object containing all tracked items (format: ",(0,l.kt)("inlineCode",{parentName:"p"},"Object<productSKU,\nArray[productSKU, productName, productCategory, price, quantity]>"),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","object"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getEcommerceItems());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getEcommerceItems());\n")))),(0,l.kt)("p",null,"Example return value:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "52441051": ["52441051", "SUPER Notebook 15\\" Ocean Blue", "Laptops", 2200, 1],\n    "19287236": ["19287236", "Earbuds COOL PRO x300 BT", "Accessories", 85, 2],\n}\n')),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The state of the virtual shopping cart is not persisted in browser\nstorage. You must add all products again after a page reload.")))),(0,l.kt)("div",{id:"jtc-api-setEcommerceView"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setEcommerceView(","[","productSKU","[",", productName","[",", productCategory","[",",\nproductPrice","]","]","]","]",")"),(0,l.kt)("p",null,"Tracks product or category view. Must be followed by a ",(0,l.kt)("inlineCode",{parentName:"p"},"page\nview<jtc-api-page-views>"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string productSKU",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Product stock-keeping unit.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string productName",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Product name.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string|Array\\<string",">"," productCategory",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Category or an array of up to 5 categories.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number productPrice",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Product price."))),(0,l.kt)("p",null,"When tracking ",(0,l.kt)("strong",{parentName:"p"},"product views"),", provide ",(0,l.kt)("inlineCode",{parentName:"p"},"productSKU")," and optionally\nother parameters."),(0,l.kt)("p",null,"When tracking ",(0,l.kt)("strong",{parentName:"p"},"category views"),", provide only ",(0,l.kt)("inlineCode",{parentName:"p"},"productCategory"),". Skip\n",(0,l.kt)("inlineCode",{parentName:"p"},"productSKU"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"productName")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"productPrice")," parameters supplying\n",(0,l.kt)("inlineCode",{parentName:"p"},"undefined")," where necessary."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setEcommerceView", undefined, undefined, "Crafts & Sewing"]); // category view\n_paq.push(["trackPageView"]);\n\n_paq.push(["setEcommerceView", "craft-311", "Unicorn Iron on Patch", "Crafts & Sewing", 499]); // product view\n_paq.push(["trackPageView"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setEcommerceView(undefined, undefined, "Crafts & Sewing"); // category view\njstc.trackPageView();\n\njstc.setEcommerceView("craft-311", "Unicorn Iron on Patch", "Crafts & Sewing", 499); // product view\njstc.trackPageView();\n')))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"setEcommerceView")," does not send data itself. It must be followed by a\ncall to ",(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView<jtc-api-trackPageView>"),".")))),(0,l.kt)("div",{id:"jtc-api-trackEcommerceCartUpdate"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackEcommerceCartUpdate(cartAmount)"),(0,l.kt)("p",null,"Tracks items present in a virtual shopping cart (registered with\n",(0,l.kt)("inlineCode",{parentName:"p"},"addEcommerceItem<jtc-api-addEcommerceItem>"),");"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number cartAmount",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," The total value of items in the cart")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackEcommerceCartUpdate", 250]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.trackEcommerceCartUpdate(250);\n")))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,"Why JavaScript Tracking Client doesn't count cartAmount by itself? Why\nuser must do this?")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Make sure all products from the cart have been registered using\n",(0,l.kt)("inlineCode",{parentName:"p"},"addEcommerceItem")," before tracking a cart update. Remember that when a\npage is reloaded, the cart resets and all products must be registered\nagain.")))),(0,l.kt)("div",{id:"jtc-api-trackEcommerceOrder"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackEcommerceOrder(orderID, orderGrandTotal","[",", orderSubTotal","[",",\norderTax","[",", orderShipping","[",", orderDiscount","]","]","]","]",")"),(0,l.kt)("p",null,"Tracks a successfully placed e-commerce order with items present in a\nvirtual cart (registered using\n",(0,l.kt)("inlineCode",{parentName:"p"},"addEcommerceItem<jtc-api-addEcommerceItem>"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string orderID",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," String uniquely identifying an order")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number orderGrandTotal",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Order Revenue grand total - tax, shipping and discount\nincluded")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number orderSubTotal",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Order subtotal - without shipping")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number orderTax",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Order tax amount")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number orderShipping",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Order shipping cost")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number orderDiscount",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Order discount amount"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackEcommerceOrder", "3352", 499, 399, 0, 100]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackEcommerceOrder("3352", 499, 399, 0, 100);\n')))))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"trackEcommerceOrder")," function clears the list with registered\ne-commerce items.")),(0,l.kt)("h3",{id:"custom-variables"},"Custom Variables"),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"5.5 We strongly advise using custom dimensions instead.")),(0,l.kt)("div",{id:"jtc-api-setCustomVariable"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCustomVariable(index, name","[",", value","[",", scope","]","]",")"),(0,l.kt)("p",null,"Sets a custom variable that can be used later."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number index",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Index from 1 to 5 where the variable is stored")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string name",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of the variable")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string value",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Value of the variable, limited to 200 characters")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string scope",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Scope of the variable, ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},'"page"'),". The\ndefault value is ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"'),"."))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCustomVariable", 1, "AspectRatio", "16:9", "visit"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCustomVariable(1, "AspectRatio", "16:9", "visit");\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"A custom variable with the ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"')," scope will be saved for an entire\nsession, you don't need to set it on every page.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Index is separate for each variable scope.")))),(0,l.kt)("div",{id:"jtc-api-deleteCustomVariable"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"deleteCustomVariable(index","[",", scope","]",")"),(0,l.kt)("p",null,"Removes a previously set custom variable."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number index",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Number from 1 to 5 where variable is stored")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string scope",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Scope of the variable, ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},'"page"'),". The\ndefault value is ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"'),"."))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["deleteCustomVariable", 1, "visit"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.deleteCustomVariable(1, "visit");\n')))))),(0,l.kt)("div",{id:"jtc-api-getCustomVariable"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCustomVariable(index","[",", scope","]",")"),(0,l.kt)("p",null,"Returns the value of a previously set custom variable."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number index",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Number from 1 to 5 where variable is stored")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string scope",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Scope of the variable, ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},'"page"'),". The\ndefault value is ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"'),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","Custom variable value as an array with name and value if the custom\nvariable exists (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'["theme", "dark-01"]'),") or ",(0,l.kt)("inlineCode",{parentName:"p"},"false")," if it\ndoesn't.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string","[","]","|boolean"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push([function() {\n    console.log(this.getCustomVariable(1, "visit"));\n}]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'console.log(jstc.getCustomVariable(1, "visit"));\n')))))),(0,l.kt)("div",{id:"jtc-api-storeCustomVariablesInCookie"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"storeCustomVariablesInCookie()"),(0,l.kt)("p",null,"Enables storing ",(0,l.kt)("inlineCode",{parentName:"p"},'"visit"')," type custom variables in a first party cookie."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["storeCustomVariablesInCookie"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.storeCustomVariablesInCookie();\n")))))),(0,l.kt)("h3",{id:"custom-dimensions"},"Custom Dimensions"),(0,l.kt)("div",{id:"jtc-api-setCustomDimensionValue"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCustomDimensionValue(customDimensionID, customDimensionValue)"),(0,l.kt)("div",{class:"versionadded"},(0,l.kt)("p",null,"15.3")),(0,l.kt)("p",null,"Sets a custom dimension to be used later."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number customDimensionID",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," ID of a custom dimension")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string customDimensionValue",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Value of a custom dimension"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCustomDimensionValue", 3, "loginStatus"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCustomDimensionValue(3, "loginStatus");\n')))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"When you set a custom dimension, its value will be used in all tracking\nrequests within a page load.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"This function does not send any data to the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),". It prepares a custom dimension to be sent with following\nevents, e.g. page view, e-commerce events, outlink or download events.")))),(0,l.kt)("div",{id:"jtc-api-deleteCustomDimension"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"deleteCustomDimension(customDimensionID)"),(0,l.kt)("p",null,"Removes a custom dimension with the specified ID."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number customDimensionID",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," ID of a custom dimension")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["deleteCustomDimension", 3]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.deleteCustomDimension(3);\n")))))),(0,l.kt)("div",{id:"jtc-api-getCustomDimensionValue"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCustomDimensionValue(customDimensionID)"),(0,l.kt)("div",{class:"versionadded"},(0,l.kt)("p",null,"15.3")),(0,l.kt)("p",null,"Returns the value of a custom dimension with the specified ID."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number customDimensionID",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," ID of a custom dimension")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","Value set with\n",(0,l.kt)("inlineCode",{parentName:"p"},"setCustomDimensionValue<jtc-api-setCustomDimensionValue>")," (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},'"loginStatus"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function() {\n    console.log(this.getCustomDimensionValue(3));\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getCustomDimensionValue(3));\n")))))),(0,l.kt)("div",{id:"jtc-api-setCustomDimension"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCustomDimension(customDimensionID, customDimensionValue)"),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"15.3 Function ",(0,l.kt)("inlineCode",{parentName:"p"},"setCustomDimension")," is deprecated due to the difficulty\nof use (passed values should be URL encoded). Please use\n",(0,l.kt)("inlineCode",{parentName:"p"},"setCustomDimensionValue<jtc-api-setCustomDimensionValue>")," instead.")),(0,l.kt)("p",null,"Sets a custom dimension to be used later."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number customDimensionID",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," ID of a custom dimension")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string customDimensionValue",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Value of a custom dimension (should be URL encoded)"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCustomDimension", 3, "loginStatus"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCustomDimension(3, "loginStatus");\n')))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"When you set a Custom Dimension, that value will be used in all tracking\nrequests within a page load.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"This function does not send any data to the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),". It sets a Custom Dimension to be sent with following events,\ne.g. page view, e-commerce events, outlink or download events.")))),(0,l.kt)("div",{id:"jtc-api-getCustomDimension"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCustomDimension(customDimensionID)"),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"15.3 Function ",(0,l.kt)("inlineCode",{parentName:"p"},"getCustomDimension")," is deprecated due to the difficulty\nof use (returned values are URL-encoded). Please use\n",(0,l.kt)("inlineCode",{parentName:"p"},"getCustomDimensionValue<jtc-api-getCustomDimensionValue>")," instead.")),(0,l.kt)("p",null,"Returns the value of a custom dimension."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number customDimensionID",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," ID of a custom dimension")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","Value set with ",(0,l.kt)("inlineCode",{parentName:"p"},"setCustomDimension<jtc-api-setCustomDimension>"),"\n(e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"loginStatus"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([ function() {\n    console.log(this.getCustomDimension(3));\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getCustomDimension(3));\n")))))),(0,l.kt)("h4",{id:"custom-dimensions-object"},"Custom dimensions object"),(0,l.kt)("p",null,"Some tracking functions accept an optional ",(0,l.kt)("inlineCode",{parentName:"p"},"dimensions")," parameter. You\ncan use it to pass additional custom dimensions along with the tracked\nevent. Custom dimension object might look like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "dimension1": "hello",\n    "dimension4": "nice%20to%20see%20you",\n    "dimension5": "goodbye"\n}\n')),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Keys in a custom dimension object must be in ",(0,l.kt)("inlineCode",{parentName:"p"},'"dimensionX"')," format,\nwhere ",(0,l.kt)("inlineCode",{parentName:"p"},"X")," is the ID of a custom dimension. Keys that don't match this\nformat will be ignored.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Custom dimension values ",(0,l.kt)("strong",{parentName:"p"},"must be percent-encoded"),". To encode a string,\npass it through ",(0,l.kt)("inlineCode",{parentName:"p"},"encodeURIComponent")," function, e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},'encodeURIComponent("\xc4pfel?")'),".")),(0,l.kt)("h3",{id:"content-tracking"},"Content Tracking"),(0,l.kt)("h4",{id:"impressions"},"Impressions"),(0,l.kt)("div",{id:"jtc-api-trackAllContentImpressions"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackAllContentImpressions()"),(0,l.kt)("p",null,"Scans the entire DOM for content blocks and tracks impressions after all\npage elements load. It does not send duplicates on repeated calls unless\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView")," was called in between ",(0,l.kt)("inlineCode",{parentName:"p"},"trackAllContentImpressions"),"\ninvocations."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackAllContentImpressions"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.trackAllContentImpressions();\n")))))),(0,l.kt)("div",{id:"jtc-api-trackVisibleContentImpressions"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackVisibleContentImpressions(","[","checkOnScroll","[",", watchInterval","]","]",")"),(0,l.kt)("p",null,"Scans DOM for all visible content blocks and tracks impressions."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param boolean checkOnScroll",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Whether to scan for visible content on ",(0,l.kt)("inlineCode",{parentName:"p"},"scroll")," event.\nDefault value: ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param number watchInterval",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Delay, in milliseconds, between scans for new visible\ncontent. Periodic checks can be disabled by passing ",(0,l.kt)("inlineCode",{parentName:"p"},"0"),". Default\nvalue: ",(0,l.kt)("inlineCode",{parentName:"p"},"750"),"."))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackVisibleContentImpressions", true, 2000]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.trackVisibleContentImpressions(true, 2000);\n")))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Neither option can be changed after the initial setup.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"trackVisibleContentImpressions")," will not detect content blocks placed\nin a scrollable element.")))),(0,l.kt)("div",{id:"jtc-api-trackContentImpressionsWithinNode"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackContentImpressionsWithinNode(domNode)"),(0,l.kt)("p",null,"Scans ",(0,l.kt)("inlineCode",{parentName:"p"},"domNode")," (with its children) for all content blocks and tracks\nimpressions."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param Node domNode",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," DOM node with content blocks (elements with\n",(0,l.kt)("inlineCode",{parentName:"li"},"data-track-content")," attribute) inside")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'var element = document.querySelector("#impressionContainer");\n_paq.push(["trackContentImpressionsWithinNode", element]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'var element = document.querySelector("#impressionContainer");\njstc.trackContentImpressionsWithinNode(element);\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"It can be used with ",(0,l.kt)("inlineCode",{parentName:"p"},"trackVisibleContentImpressions")," to track only\nvisible content impressions.")))),(0,l.kt)("div",{id:"jtc-api-trackContentImpression"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackContentImpression(contentName, contentPiece, contentTarget)"),(0,l.kt)("p",null,"Tracks manual content impression event."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentName",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of a content block")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentPiece",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of the content that was displayed (e.g. link to an\nimage)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentTarget",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Where the content leads to (e.g. URL of some external\nwebsite)"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackContentImpression", "promo-video", "https://example.com/public/promo-01.mp4", "https://example.com/more"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackContentImpression("promo-video", "https://example.com/public/promo-01.mp4", "https://example.com/more");\n')))))),(0,l.kt)("div",{id:"jtc-api-logAllContentBlocksOnPage"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"logAllContentBlocksOnPage()"),(0,l.kt)("p",null,"Print all content blocks to the console for debugging purposes."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["logAllContentBlocksOnPage"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.logAllContentBlocksOnPage();\n")))),(0,l.kt)("p",null,"Example output:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'[\n    {\n        "name": "promo-video",\n        "piece": "https://example.com/public/promo-01.mp4",\n        "target": "https://example.com/more"\n    }\n]\n')))),(0,l.kt)("h4",{id:"interactions"},"Interactions"),(0,l.kt)("div",{id:"jtc-api-trackContentInteractionNode"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackContentInteractionNode(domNode","[",", contentInteraction","]",")"),(0,l.kt)("p",null,"Tracks interaction with a block in domNode. Can be called from code\nplaced in ",(0,l.kt)("inlineCode",{parentName:"p"},"onclick")," attribute."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param Node domNode",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Node marked as content block or containing content\nblocks. If content block can't be found, nothing will tracked.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentInteraction",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Name of interaction (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"click"'),"). Default value:\n",(0,l.kt)("inlineCode",{parentName:"p"},'"Unknown"'),"."))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'var domNode = document.querySelector("#add-image");\n_paq.push(["trackContentInteractionNode", domNode, "clicked"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'var domNode = document.querySelector("#add-image");\njstc.trackContentInteractionNode(domNode, "clicked");\n')))),(0,l.kt)("p",null,"Example of usage in ",(0,l.kt)("inlineCode",{parentName:"p"},"onclick")," attribute:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},"<button onclick=\"function(){_paq.push(['trackContentInteractionNode', this, 'clicked']);}\">Click me!</button>\n")))),(0,l.kt)("div",{id:"jtc-api-trackContentInteraction"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackContentInteraction(contentInteraction, contentName, contentPiece,\ncontentTarget)"),(0,l.kt)("p",null,"Tracks manual content interaction event."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentInteraction",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Type of interaction (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"click"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentName",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of a content block")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentPiece",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of the content that was displayed (e.g. link to an\nimage)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string contentTarget",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Where the content leads to (e.g. URL of some external\nwebsite)"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackContentInteraction", "clicked", "trackingWhitepaper", "document", "http://cooltracker.tr/whitepaper"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackContentInteraction("clicked", "trackingWhitepaper", "document", "http://cooltracker.tr/whitepaper");\n')))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"Use this function in conjunction with ",(0,l.kt)("inlineCode",{parentName:"p"},"trackContentImpression"),", as it\ncan only be mapped with an impression by ",(0,l.kt)("inlineCode",{parentName:"p"},"contentName"),".")))),(0,l.kt)("h3",{id:"download-and-outlink"},"Download and Outlink"),(0,l.kt)("div",{id:"jtc-api-trackLink"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackLink(linkAddress, linkType","[",", dimensions","[",", callback","]","]",")"),(0,l.kt)("p",null,"Manually tracks outlink or download event with provided values."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string linkAddress",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," URL address of the link")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string linkType",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Type of the link, ",(0,l.kt)("inlineCode",{parentName:"p"},'"link"')," for outlink, ",(0,l.kt)("inlineCode",{parentName:"p"},'"download"'),"\nfor download")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param object dimensions",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," ",(0,l.kt)("inlineCode",{parentName:"p"},"Custom dimensions<jtc-api-custom-dimensions-object>"),"\nto pass along with the link event")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param function callback",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Function that should be called after tracking the link"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackLink", "http://www.example.com/example", "link"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackLink("http://www.example.com/example", "link");\n')))),(0,l.kt)("p",null,"Example of usage in ",(0,l.kt)("inlineCode",{parentName:"p"},"onclick")," attribute:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},"<button onclick=\"_paq.push(['trackLink', 'http://www.example.com/example', 'link'])\">\n    Click me!\n</button>\n")))),(0,l.kt)("div",{id:"jtc-api-enableLinkTracking"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"enableLinkTracking(","[","trackMiddleAndRightClicks","]",")"),(0,l.kt)("p",null,"Enables automatic link tracking. By default, left, right and middle\nclicks on links will be treated as opening a link. Opening a link to an\nexternal site (different domain) creates an outlink event. Opening a\nlink to a downloadable file creates a download event."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean trackMiddleAndRightClicks",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Optional")," Whether to treat middle and right clicks as opening a\nlink. The default value is ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),".")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackPageView"]);\n_paq.push(["enableLinkTracking"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.trackPageView();\njstc.enableLinkTracking();\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"enableLinkTracking")," is a part of the default Tag Manager's tracking\ncode snippet. It's likely your setup already has it.")),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Outlink events are tracked only when a link points to a different\n(external) domain. If that domain belongs to you and you don't want to\ntrack outlinks when visitors open it, use\n",(0,l.kt)("inlineCode",{parentName:"p"},"setDomains<jtc-api-setDomains>")," function to define internal domains and\nsubdomains.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"enableLinkTracking")," should be called right after the first\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"trackEvent"),".")))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"disableLinkTracking()"),(0,l.kt)("p",null,"Disables automatic link tracking (if it was enabled previously with\n",(0,l.kt)("inlineCode",{parentName:"p"},"enableLinkTracking"),")."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["disableLinkTracking"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.disableLinkTracking();\n"))))),(0,l.kt)("div",{id:"jtc-api-setIgnoreClasses"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setIgnoreClasses(classes)"),(0,l.kt)("p",null,"Set a list of class names that indicate a link should not be tracked."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string|Array\\<string",">"," classes",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," CSS class name or an array of class names")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setIgnoreClasses", ["do-not-track", "ignore-link"]]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setIgnoreClasses(["do-not-track", "ignore-link"]);\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Elements with ",(0,l.kt)("inlineCode",{parentName:"p"},"piwik-ignore")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"piwik_ignore")," classes are always\nignored.")))),(0,l.kt)("div",{id:"jtc-api-setLinkClasses"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setLinkClasses(classes)"),(0,l.kt)("p",null,"Sets a list of class names that indicate whether a link is an outlink\nand not download."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string|Array\\<string",">"," classes",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," CSS class name or an array of class names")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setLinkClasses", "this-is-an-outlink"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setLinkClasses("this-is-an-outlink");\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Elements with ",(0,l.kt)("inlineCode",{parentName:"p"},"piwik-link")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"piwik_link")," class are always treated as\noutlinks.")))),(0,l.kt)("div",{id:"jtc-api-setDownloadClasses"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setDownloadClasses(classes)"),(0,l.kt)("p",null,"Sets a list of class names that indicate whether a list is a download\nand not an outlink."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string|Array\\<string",">"," classes",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," CSS class name or an array of class names")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setDownloadClasses", "this-is-a-download"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setDownloadClasses("this-is-a-download");\n')))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Elements with ",(0,l.kt)("inlineCode",{parentName:"p"},"download")," attribute, ",(0,l.kt)("inlineCode",{parentName:"p"},"piwik-download")," class or\n",(0,l.kt)("inlineCode",{parentName:"p"},"piwik_download")," class are always treated as downloads.")),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Links containing a ",(0,l.kt)("inlineCode",{parentName:"p"},"known file extension<jtc-api-setDownloadExtensions>"),"\nwill be treated as a downloads as well.")))),(0,l.kt)("div",{id:"jtc-api-setDownloadExtensions"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setDownloadExtensions(extensions)"),(0,l.kt)("p",null,"Overwrites the list of file extensions indicating that a link is a\ndownload."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string|Array\\<string",">"," extensions",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," List of extensions to be set. Can be written as string,\ne.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'"zip|rar"'),", or an array, e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'["zip", "rar"]'),".")),(0,l.kt)("p",null,"Links containing a known file extension are treated as downloads and not\noutlinks. We check for extensions at the end of URL path and in query\nparameter values. Below are examples of URL with extensions detected."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://example.com/path/file**.zip"},"http://example.com/path/file**.zip"),"**"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://example.com/path/file**.zip**%5C#hello"},"http://example.com/path/file**.zip**\\#hello")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://example.com/path/file**.zip**?a=102"},"http://example.com/path/file**.zip**?a=102")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://example.com/path/?a=file**.zip"},"http://example.com/path/?a=file**.zip"),"**"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://example.com/path/?a=file**.zip**%5C&b=29"},"http://example.com/path/?a=file**.zip**\\&b=29"))),(0,l.kt)("p",null,"The default download extensions list contains the following extensions:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"7z"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"aac"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"apk"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"arc"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"arj"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"asf"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"asx"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"avi"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"azw3"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"bin"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"csv"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"deb"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"dmg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"doc"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"docx"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"epub"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"exe"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"flv"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"gif"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"gz"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"gzip"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"hqx"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ibooks"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"jar"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"jpg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"jpeg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"js"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mobi"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mp2"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"mp3"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mp4"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mpg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mpeg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mov"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"movie"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"msi"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"msp"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"odb"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"odf"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"odg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ods"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"odt"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ogg"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ogv"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"pdf"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"phps"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"png"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ppt"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"pptx"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"qt"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"qtm"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ra"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ram"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"rar"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"rpm"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"sea"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"sit"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"tar"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"tbz"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"tbz2"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"bz"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"bz2"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"tgz"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"torrent"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"txt"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"wav"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"wma"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"wmv"),",\n",(0,l.kt)("inlineCode",{parentName:"p"},"wpd"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"xls"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"xlsx"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"xml"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"z"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"zip")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setDownloadExtensions", "mhj|docx"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setDownloadExtensions("mhj|docx");\n')))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The list of download extensions is not persisted in the browser. It has\nto be configured on every page load.")))),(0,l.kt)("div",{id:"jtc-api-addDownloadExtensions"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"addDownloadExtensions(extensions)"),(0,l.kt)("p",null,"Adds new extensions to the download extensions list."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string|Array\\<string",">"," extensions",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," List of extensions to be added. Can be written as\nstring, e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'"7z|apk|mp4"'),", or an array, e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'["7z","apk","mp4"]'),".")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The list of download extensions is not persisted in the browser. It has\nto be configured on every page load.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["addDownloadExtensions", "mhj|docx"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.addDownloadExtensions("mhj|docx");\n')))))),(0,l.kt)("div",{id:"jtc-api-removeDownloadExtensions"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"removeDownloadExtensions(extensions)"),(0,l.kt)("p",null,"Removes extensions from the download extensions list."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string|Array\\<string",">"," extensions",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," List of extensions to remove. Can be written as string,\ne.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'"zip|rar"'),", or an array, e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'["zip", "rar"]'),".")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["removeDownloadExtensions", "mhj|docx"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.removeDownloadExtensions("mhj|docx");\n')))),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"The list of download extensions is not persisted in the browser. It has\nto be configured on every page load.")))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getConfigDownloadExtensions()"),(0,l.kt)("p",null,"Returns current download extensions list used by the JSTC."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","List of download extensions (e.g.",(0,l.kt)("inlineCode",{parentName:"p"},'["mhj", "docx"]'),").")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string","[","]"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getConfigDownloadExtensions());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getConfigDownloadExtensions());\n"))))),(0,l.kt)("h3",{id:"user-management"},"User management"),(0,l.kt)("div",{id:"jtc-api-setUserId"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setUserId(userID)"),(0,l.kt)("p",null,"Sets user ID, which will help identify a user of your application across\nmany devices and browsers."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string userID",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Non-empty, unique ID of a user in application")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setUserId", "19283"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setUserId("19283");\n')))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,"is user id persistent?")))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getUserId()"),(0,l.kt)("p",null,"Returns currently used user ID value (set with ",(0,l.kt)("inlineCode",{parentName:"p"},"setUserId"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","User ID value (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"19283"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getUserId());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getUserId());\n"))))),(0,l.kt)("div",{id:"jtc-api-resetUserId"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"resetUserId()"),(0,l.kt)("p",null,"Clears previously set ",(0,l.kt)("inlineCode",{parentName:"p"},"userID"),", e.g. when visitor logs out."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["resetUserId"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.resetUserId();\n")))))),(0,l.kt)("div",{id:"jtc-api-setUserIsAnonymous"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setUserIsAnonymous(isAnonymous)"),(0,l.kt)("p",null,"Enables or disables anonymous tracking (anonymous = without consent).\nDoes not send any data to ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing Pipeline"),". The next\nemitted event will have anonymous mode set accordingly."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean isAnonymous",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Whether visitor is anonymous")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setUserIsAnonymous", true]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setUserIsAnonymous(true);\n")))))),(0,l.kt)("div",{id:"jtc-api-deanonymizeUser"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"deanonymizeUser()"),(0,l.kt)("p",null,"Disables anonymous tracking and sends deanonymization event to the\n",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing Pipeline"),". Recommended method for disabling\nanonymous tracking."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["deanonymizeUser"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.deanonymizeUser();\n")))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setSessionIdStrictPrivacyMode(isStrict)"),(0,l.kt)("p",null,"Enables or disables strict privacy option in the tracker. When enabled\ntracker will not send information that can be used to fully or partially\nidentify individual client browser even when persistent cookies are\ndisabled. The information about browser that is blocked by this setting:\nscreen resolution and installed browser plugins (e.g. PDF, Flash,\nSilverlight, Java, QuickTime, RealAudio, etc.)."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean isStrict",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Defines if tracker should use strict privacy mode.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setSessionIdStrictPrivacyMode", true]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setSessionIdStrictPrivacyMode(true);\n"))))),(0,l.kt)("div",{id:"jtc-api-getVisitorId"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getVisitorId()"),(0,l.kt)("p",null,"Returns 16-character hex ID of the visitor."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Visitor ID (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"0123456789abcdef"'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getVisitorId());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getVisitorId());\n")))))),(0,l.kt)("div",{id:"jtc-api-getVisitorInfo"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getVisitorInfo()"),(0,l.kt)("p",null,"Returns visitor information."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string","[","]")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","String array with the following visitor info:"))),(0,l.kt)("blockquote",null,(0,l.kt)("ol",{parentName:"blockquote",start:0},(0,l.kt)("li",{parentName:"ol"},"new visitor flag indicating new (",(0,l.kt)("inlineCode",{parentName:"li"},'"1"'),") or returning (",(0,l.kt)("inlineCode",{parentName:"li"},'"0"'),")\nvisitor"),(0,l.kt)("li",{parentName:"ol"},"visitor ID (16-character hex number)"),(0,l.kt)("li",{parentName:"ol"},"first visit timestamp (UNIX epoch time)"),(0,l.kt)("li",{parentName:"ol"},"previous visit count (",(0,l.kt)("inlineCode",{parentName:"li"},'"0"')," for first visit)"),(0,l.kt)("li",{parentName:"ol"},"current visit timestamp (UNIX epoch time)"),(0,l.kt)("li",{parentName:"ol"},"last visit timestamp (UNIX epoch time or ",(0,l.kt)("inlineCode",{parentName:"li"},'""')," if N/A)"),(0,l.kt)("li",{parentName:"ol"},"last e-commerce order timestamp (UNIX epoch time or ",(0,l.kt)("inlineCode",{parentName:"li"},'""')," if N/A)"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getVisitorInfo());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getVisitorInfo());\n")))),(0,l.kt)("p",null,"Example output:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'[\n    "0",\n    "6d85cb0b727eca52",\n    "1624261490",\n    "12",\n    "1631115486",\n    "1631115483",\n    "1630590788"\n]\n')))),(0,l.kt)("h3",{id:"cookie-management"},"Cookie management"),(0,l.kt)("div",{id:"jtc-api-enableCookies"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"enableCookies()"),(0,l.kt)("p",null,"Enables all first party cookies. Cookies will be created on the next\ntracking request."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["enableCookies"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.enableCookies();\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"JavaScript Tracking Client has cookies enabled by default.")))),(0,l.kt)("div",{id:"jtc-api-disableCookies"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"disableCookies()"),(0,l.kt)("p",null,"Disables all first party cookies. Existing cookies will be deleted in\nthe next page view."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["disableCookies"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.disableCookies();\n")))))),(0,l.kt)("div",{id:"jtc-api-deleteCookies"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"deleteCookies()"),(0,l.kt)("p",null,"Deletes existing tracking cookies on the next page view."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["deleteCookies"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.deleteCookies();\n")))))),(0,l.kt)("div",{id:"jtc-api-hasCookies"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"hasCookies()"),(0,l.kt)("p",null,"Returns ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," if cookies are enabled in this browser."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Status of cookies support by the browser (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","boolean"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.hasCookies());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.hasCookies());\n")))))),(0,l.kt)("div",{id:"jtc-api-setCookieNamePrefix"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCookieNamePrefix(prefix)"),(0,l.kt)("p",null,"Sets the prefix for analytics tracking cookies. Default is ",(0,l.kt)("inlineCode",{parentName:"p"},'"_pk_"'),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string prefix",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," String that will replace default analytics tracking\ncookies prefix.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCookieNamePrefix", "_examplePrefix_"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCookieNamePrefix("_examplePrefix_");\n')))))),(0,l.kt)("div",{id:"jtc-api-setCookieDomain"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCookieDomain(domain)"),(0,l.kt)("p",null,"Sets the domain for the analytics tracking cookies."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string domain",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Domain that will be set as cookie domain. For enabling\nsubdomain you can use wildcard sign or dot.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCookieDomain", ".example.com"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCookieDomain(".example.com");\n')))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCookieDomain()"),(0,l.kt)("p",null,"Returns domain of the analytics tracking cookies (set with\n",(0,l.kt)("inlineCode",{parentName:"p"},"setCookieDomain"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Domain of the analytics tracking cookies (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'".example.com"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getCookieDomain());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getCookieDomain());\n"))))),(0,l.kt)("div",{id:"jtc-api-setCookiePath"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCookiePath(path)"),(0,l.kt)("p",null,"Sets the analytics tracking cookies path."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string path",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Path that will be set, default is ",(0,l.kt)("inlineCode",{parentName:"li"},'"/"'),".")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCookiePath", "/blog/"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCookiePath("/blog/");\n')))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCookiePath()"),(0,l.kt)("p",null,"Returns the analytics tracking cookies path."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Analytics tracking cookies path (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"/blog/"'),").")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getCookiePath());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getCookiePath());\n"))))),(0,l.kt)("div",{id:"jtc-api-setSecureCookie"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setSecureCookie(secure)"),(0,l.kt)("p",null,"Toggles the secure cookie flag on all first party cookies (if you are\nusing HTTPS)."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean secure",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Whether to add secure flag to cookies.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setSecureCookie", true]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setSecureCookie(true);\n")))))),(0,l.kt)("div",{id:"jtc-api-setVisitorCookieTimeout"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setVisitorCookieTimeout(seconds)"),(0,l.kt)("p",null,"Sets the expiration time of visitor cookies."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number seconds",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Number of seconds after which the cookie will expire.\nDefault is 13 months.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setVisitorCookieTimeout", 33955200]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setVisitorCookieTimeout(33955200);\n")))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getConfigVisitorCookieTimeout()"),(0,l.kt)("p",null,"Returns expiration time of visitor cookies (in milliseconds)."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Expiration time of visitor cookies in milliseconds (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},"33955200000"),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","number"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getConfigVisitorCookieTimeout());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getConfigVisitorCookieTimeout());\n"))))),(0,l.kt)("div",{id:"jtc-api-setReferralCookieTimeout"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setReferralCookieTimeout(seconds)"),(0,l.kt)("p",null,"Sets the expiration time of referral cookies."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number seconds",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Number of seconds after which the cookie will expire.\nDefault is 6 months.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setReferralCookieTimeout", 15768000]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setReferralCookieTimeout(15768000);\n")))))),(0,l.kt)("div",{id:"jtc-api-setSessionCookieTimeout"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setSessionCookieTimeout(seconds)"),(0,l.kt)("p",null,"Sets the expiration time of session cookies."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number seconds",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Number of seconds after which the cookie will expire.\nDefault is 30 minutes.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setSessionCookieTimeout", 1800000]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setSessionCookieTimeout(1800000);\n")))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getSessionCookieTimeout()"),(0,l.kt)("p",null,"Returns expiration time of session cookies."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Expiration time of session cookies")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","number"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getSessionCookieTimeout());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getSessionCookieTimeout());\n"))))),(0,l.kt)("div",{id:"jtc-api-setVisitorIdCookie"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setVisitorIdCookie()"),(0,l.kt)("p",null,"Sets cookie containing ",(0,l.kt)("inlineCode",{parentName:"p"},"analytics ID")," in browser."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setVisitorIdCookie"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setVisitorIdCookie();\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"It's needed only when JavaScript Tracking Client instance is created\nwithout use of ",(0,l.kt)("inlineCode",{parentName:"p"},"_paq.push")," and script needs to know ",(0,l.kt)("inlineCode",{parentName:"p"},"analytics ID"),"\nbefore first tracking request is sent. Make sure that it is called after\nall methods that configure cookie are called (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},"setCookieNamePrefix"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"setCookieDomain"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"setCookiePath"),", etc.).")))),(0,l.kt)("h3",{id:"cross-domain-linking"},"Cross domain linking"),(0,l.kt)("div",{id:"jtc-api-enableCrossDomainLinking"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"enableCrossDomainLinking()"),(0,l.kt)("p",null,"Enables cross domain linking. Visitors across domains configured with\n",(0,l.kt)("inlineCode",{parentName:"p"},"setDomains<jtc-api-setDomains>")," function will be linked by passing\nvisitor ID parameter in links."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["enableCrossDomainLinking"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.enableCrossDomainLinking();\n")))))),(0,l.kt)("div",{id:"jtc-api-disableCrossDomainLinking"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"disableCrossDomainLinking()"),(0,l.kt)("p",null,"Disables cross domain linking."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["disableCrossDomainLinking"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.disableCrossDomainLinking();\n")))))),(0,l.kt)("div",{id:"jtc-api-isCrossDomainLinkingEnabled"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"isCrossDomainLinkingEnabled()"),(0,l.kt)("p",null,"Returns boolean telling whether cross domain linking is enabled."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Status of cross domain linking (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","boolean"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.isCrossDomainLinkingEnabled());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.isCrossDomainLinkingEnabled());\n")))))),(0,l.kt)("div",{id:"jtc-api-setCrossDomainLinkingTimeout"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCrossDomainLinkingTimeout(seconds)"),(0,l.kt)("p",null,"Changes the time in which two visits across domains will be linked. The\ndefault timeout is 180 seconds (3 minutes)."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number seconds",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Number of seconds in which two visits across domains\nwill be linked")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCrossDomainLinkingTimeout", 180]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setCrossDomainLinkingTimeout(180);\n")))))),(0,l.kt)("div",{id:"jtc-api-getCrossDomainLinkingUrlParameter"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCrossDomainLinkingUrlParameter()"),(0,l.kt)("p",null,"Returns the name of a cross domain URL parameter (query parameter by\ndefault) holding visitor ID. This is ",(0,l.kt)("inlineCode",{parentName:"p"},'"pk_vid"')," by default."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Name of a cross domain URL parameter (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"pk_vid"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getCrossDomainLinkingUrlParameter());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getCrossDomainLinkingUrlParameter());\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"If your application creates links dynamically, you'll have to add this\nparameter manually, e.g."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var url = \"http://myotherdomain.com/path/?\" + jstc.getCrossDomainLinkingUrlParameter();\n$element.append('<a href=\"' + url + '\">link</a>');\n"))))),(0,l.kt)("div",{id:"jtc-api-customCrossDomainLinkDecorator"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"customCrossDomainLinkDecorator(urlDecorator)"),(0,l.kt)("p",null,"Sets custom cross domains URL decorator for injecting visitor ID into\nURLs. Used when cross domain linking is enabled (see\n:js",(0,l.kt)("inlineCode",{parentName:"p"},"enableCrossDomainLinking"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param function urlDecorator",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Function injecting a parameter to a URL address")),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"urlDecorator(url, value, name)"),(0,l.kt)("p",null,"Decorator function accepts link URL, parameter name, parameter value\n(visitor ID) and returns a URL containing the parameter data."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string url",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Link URL")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string value",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Value of visitor ID that should be passed via URL")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string name",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of visitor ID parameter used by JavaScript\nTracking Client (can be customized)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Decorated URL or ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," (no change in URL)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string|null")))),(0,l.kt)("p",null,"Example of usage (value sent via URL query parameter - equivalent of\ndefault implementation):"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["customCrossDomainLinkDecorator", function (url, value, name) {\n    var parsedUrl = new URL(url);\n    parsedUrl.searchParams.append(name, value);\n    return parsedUrl.href;\n}]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.customCrossDomainLinkDecorator(function (url, value, name) {\n    var parsedUrl = new URL(url);\n    parsedUrl.searchParams.append(name, value);\n    return parsedUrl.href;\n}]);\n")))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,"Is anyone actually overwriting the default decorator?")))),(0,l.kt)("div",{id:"jtc-api-customCrossDomainLinkVisitorIdGetter"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"customCrossDomainLinkVisitorIdGetter(urlParser)"),(0,l.kt)("p",null,"Sets custom cross domain URL parser for extracting visitor ID from URLs.\nShould extract data injected by URL decorator (set via\n:js",(0,l.kt)("inlineCode",{parentName:"p"},"customCrossDomainLinkDecorator"),"). The getter should return visitor\nID extracted from page URL (used by :js",(0,l.kt)("inlineCode",{parentName:"p"},"enableCrossDomainLinking"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param function urlParser",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Function extracting a visitor ID from a URL address")),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"urlParser(url, name)"),(0,l.kt)("p",null,"Parser function accepts page URL, parameter name and returns parameter\nvalue (visitor ID)."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string url",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Page URL")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string name",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Name of parameter holding visitor ID")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Visitor ID value (parsed from URL)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string")))),(0,l.kt)("p",null,"Example usage (value sent via URL query parameter - equivalent of\ndefault implementation):"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["customCrossDomainLinkVisitorIdGetter", function (url, name) {\n    return (new URL(url)).searchParams.get(name) || "";\n}]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.customCrossDomainLinkVisitorIdGetter(function (url, name) {\n    return (new URL(url)).searchParams.get(name) || "";\n});\n')))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,"Is anyone actually overwriting the default visitor ID getter?")))),(0,l.kt)("h3",{id:"javascript-tracking-client-configuration"},"JavaScript Tracking Client configuration"),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"addTracker(trackerUrl, siteId)"),(0,l.kt)("p",null,"Creates new JavaScript Tracking Client instance."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string trackerUrl",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," URL for JavaScript Tracking Client")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string siteId",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Site ID that will be linked to tracked data.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","JavaScript Tracking Client instance")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","object"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["addTracker", "https://example.piwik.pro/piwik.php", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.addTracker("https://example.piwik.pro/piwik.php", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setTrackerUrl(url)"),(0,l.kt)("p",null,"Overrides Piwik tracking URL set at the JSTC initiation."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string url",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Path to Piwik tracking URL (e.g.\n",(0,l.kt)("inlineCode",{parentName:"li"},'"https://example.piwik.pro/piwik.php"'),")")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setTrackerUrl", "https://example.piwik.pro/piwik.php"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setTrackerUrl("https://example.piwik.pro/piwik.php");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getTrackerUrl()"),(0,l.kt)("p",null,"Returns the Piwik tracking URL used by tracker (either default, set\nduring tracker initiation or override value set with ",(0,l.kt)("inlineCode",{parentName:"p"},"setTrackerUrl"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Piwik tracking URL (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"https://example.piwik.pro/piwik.php"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getTrackerUrl());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getTrackerUrl());\n")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Currently used Piwik tracking URL (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},'"https://example.piwik.pro/"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string")))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setAPIUrl(url)"),(0,l.kt)("p",null,"Overrides HTTP API URL for tracking endpoint that was set at the tracker\ninitiation. The use of this function is discouraged, as JavaScript\nTracking Client should select the correct URL."),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"This method is outdated, use ",(0,l.kt)("inlineCode",{parentName:"p"},"setTrackerUrl")," instead.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string url",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required"),' Path to HTTP API URL (e.g.\n"',(0,l.kt)("a",{parentName:"li",href:"https://example.piwik.pro"},"https://example.piwik.pro"),'")')),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setAPIUrl", "https://example.piwik.pro/piwik.php"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setAPIUrl("https://example.piwik.pro/piwik.php");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getPiwikUrl()"),(0,l.kt)("p",null,"Returns the HTTP API URL used by tracker (either default, set during\ntracker initiation or override value set with ",(0,l.kt)("inlineCode",{parentName:"p"},"setAPIUrl"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Currently used HTTP API URL (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},'"https://example.piwik.pro/piwik.php"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"This method is outdated, use ",(0,l.kt)("inlineCode",{parentName:"p"},"getTrackerUrl")," instead.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getPiwikUrl());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getPiwikUrl());\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setSiteId(siteId)"),(0,l.kt)("p",null,"Sets site ID that wil be linked to tracked data."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string siteId",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Site ID that will be linked to tracked data.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setSiteId", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setSiteId("45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getSiteId()"),(0,l.kt)("p",null,"Returns site ID linked to tracked data."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Site ID linked to tracked data (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},'"45e07cbf-c8b3-42f3-a6d6-a5a176f623ef"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getSiteId());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getSiteId());\n"))))),(0,l.kt)("div",{id:"jtc-api-setDomains"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setDomains(domains)"),(0,l.kt)("p",null,"Allows to define a list of internal domains. Used in ",(0,l.kt)("inlineCode",{parentName:"p"},"outlink\ntracking<jtc-api-download-and-outlink>")," for determining whether a link\nis an outlink and in ",(0,l.kt)("inlineCode",{parentName:"p"},"cross domain\nlinking<jtc-api-cross-domain-linking>")," for determining which links\nshould have visitor ID parameter injected."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param Array\\<string",">"," domains",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," A list of internal domains. Domains can contain\nwildcard character (",(0,l.kt)("inlineCode",{parentName:"li"},'"*"'),") or leading dot.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setDomains", [".example.com", ".example.co.uk"]]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setDomains([".example.com", ".example.co.uk"]);\n')))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getDomains()"),(0,l.kt)("p",null,"Returns list of internal domains (set with ",(0,l.kt)("inlineCode",{parentName:"p"},"setDomains")," and used in\n",(0,l.kt)("inlineCode",{parentName:"p"},"outlink tracking<jtc-api-download-and-outlink>"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","List of internal domains (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'[".example.com", ".example.co.uk"]'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string","[","]"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getDomains());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getDomains());\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCustomUrl(customUrl)"),(0,l.kt)("p",null,"The function that will override tracked page URL. Tracker will use\ncurrent page URL if custom URL was not set."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string customUrl",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Value that will override default URL of the tracked\npage.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCustomUrl", "https://example.com/virtual-page"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCustomUrl("https://example.com/virtual-page");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getCurrentUrl()"),(0,l.kt)("p",null,"Returns the current URL of the page. The custom URL will be returned if\nset with ",(0,l.kt)("inlineCode",{parentName:"p"},"setCustomUrl"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Currently tracked page URL (e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},'"https://example.com/virtual-page"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getCurrentUrl());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getCurrentUrl());\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setReferrerUrl(url)"),(0,l.kt)("p",null,"The function that will override the detected HTTP referrer."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string url",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Value that will override HTTP referrer.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setReferrerUrl", "https://example.com/previous-page"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setReferrerUrl("https://example.com/previous-page");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"discardHashTag(enableFilter)"),(0,l.kt)("p",null,"When enabled, JSTC will remove ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Fragment_identifier"},"URL fragment\nidentifier")," from all\ntracked URLs (e.g. current page URL, referer URL, etc.)."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean enableFilter",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," If set to true, URL fragment identifier will be removed\nfrom tracked URLs.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["discardHashTag", true]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.discardHashTag(true);\n"))))),(0,l.kt)("div",{id:"jtc-api-setDocumentTitle"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setDocumentTitle(title)"),(0,l.kt)("p",null,"Overwrites document title internally. All events sent afterwards will\nuse the provided document title. The title shown in a browser window is\nnot affected."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string title",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Custom title")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setDocumentTitle", document.title.toLocaleLowerCase()]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setDocumentTitle(document.title.toLocaleLowerCase());\n")))))),(0,l.kt)("div",{id:"jtc-api-setTimingDataSamplingOnPageLoad"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setTimingDataSamplingOnPageLoad(sampling)"),(0,l.kt)("p",null,"Configures page performance data collection. With non-zero sampling (10\nby default), some page views will issue a page performance measurement."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number sampling",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Page performance sampling, integer between 0 and 100. 0\ndisables page performance data collection. 100 measures every page\nload.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setTimingDataSamplingOnPageLoad", 0]); // disables page performance data collection\n_paq.push(["setTimingDataSamplingOnPageLoad", 10]); // 10% of page views will by followed by a page performance measurement, this is the default behavior\n_paq.push(["setTimingDataSamplingOnPageLoad", 30]); // 30% of page views will be followed by a page performance measurement\n_paq.push(["setTimingDataSamplingOnPageLoad", 100]); // 100% of page views will be followed by a page performance measurement\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setTimingDataSamplingOnPageLoad(0); // disables page performance data collection\njstc.setTimingDataSamplingOnPageLoad(10); // 10% of page views will by followed by a page performance measurement, this is the default behavior\njstc.setTimingDataSamplingOnPageLoad(30); // 30% of page views will be followed by a page performance measurement\njstc.setTimingDataSamplingOnPageLoad(100); // 100% of page views will be followed by a page performance measurement\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"The default sampling value is 10, meaning 10% of page loads will be\nmeasured.")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"This setting will have an effect only if it's used before the\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView"),".")),(0,l.kt)("div",{class:"warning"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Warning")),(0,l.kt)("p",null,"If a page is closed before it fully loads (e.g. visitor closes the tab\nimmediately after opening the page), page performance data will not be\ncollected.")))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"disablePerformanceTracking()"),(0,l.kt)("p",null,"Disables sending page performance metrics for page views. Page\nperformance metrics are enabled by default, but on SPA pages they are\ncorrect only for the first page view. All following page views in SPA\ndon't reload whole page so in such cases it's better to disable page\nperformance tracking to avoid reporting invalid loading times for such\npages."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["disablePerformanceTracking"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.disablePerformanceTracking();\n"))))),(0,l.kt)("div",{id:"jtc-api-getTimingDataSamplingOnPageLoad"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getTimingDataSamplingOnPageLoad()"),(0,l.kt)("p",null,"Returns page performance sampling number."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Percentage of page performance sampling (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"10"),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","number"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getTimingDataSamplingOnPageLoad());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getTimingDataSamplingOnPageLoad());\n")))))),(0,l.kt)("div",{id:"jtc-api-enableHeartBeatTimer"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"enableHeartBeatTimer()"),(0,l.kt)("p",null,"When a visitor is not producing any events (e.g. because they are\nreading an article or watching a video), we don't know if they are still\non the page. This might skew page statistics, e.g. ",(0,l.kt)("em",{parentName:"p"},"time on page")," value.\n",(0,l.kt)("em",{parentName:"p"},"Heartbeat timer")," allows us to determine how much time visitors spend on\na page by sending heartbeats to the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing Pipeline"),"\nas long as the page is in focus."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["enableHeartBeatTimer"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.enableHeartBeatTimer();\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"The first heartbeat will be sent 15 seconds after the page load. The\ntime between heartbeats increases with the number of heartbeats sent and\nstops at 5 minutes. When a page looses focus, heartbeats will be paused\nuntil the focus is restored. The last heartbeat is sent 30 minutes after\nthe page view.")))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"disableHeartBeatTimer()"),(0,l.kt)("p",null,"Disables sending heartbeats if they were previously enabled by\n",(0,l.kt)("inlineCode",{parentName:"p"},"enableHeartBeatTimer"),"."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["disableHeartBeatTimer"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.disableHeartBeatTimer();\n"))))),(0,l.kt)("div",{id:"jtc-api-setLinkTrackingTimer"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setLinkTrackingTimer(milliseconds)"),(0,l.kt)("p",null,"When a visitor produces an events and closes the page immediately\nafterwards, e.g. when opening a link, the request might get cancelled.\nTo avoid loosing the last event this way, JavaScript Tracking Client\nwill lock the page for a fraction of a second (if wait time hasn't\npassed), giving the request time to reach the ",(0,l.kt)("inlineCode",{parentName:"p"},"Collecting & Processing\nPipeline"),"."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"setLinkTrackingTimer")," allows to change the default lock/wait time of\n500ms."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number milliseconds",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," How many milliseconds a request needs to reach the\n",(0,l.kt)("inlineCode",{parentName:"li"},"Collecting & Processing Pipeline"),".")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setLinkTrackingTimer", 100]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setLinkTrackingTimer(100);\n")))),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Requests sent using ",(0,l.kt)("inlineCode",{parentName:"p"},"beacon")," method do not lock the page.")),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Contrary to what the function name suggests, ",(0,l.kt)("inlineCode",{parentName:"p"},"setLinkTrackingTimer"),"\naffects all other types of events. In recent versions of JavaScript\nTracking Client, links are sent using ",(0,l.kt)("inlineCode",{parentName:"p"},"beacon")," method if available.")))),(0,l.kt)("div",{id:"jtc-api-getLinkTrackingTimer"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getLinkTrackingTimer()"),(0,l.kt)("p",null,"Returns page exit delay (in milliseconds). Default delay can be changed\nwith ",(0,l.kt)("inlineCode",{parentName:"p"},"setLinkTrackingTimer<jtc-api-setLinkTrackingTimer>"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Page exit delay (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"500"),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","number"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function () {\n    console.log(this.getLinkTrackingTimer());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getLinkTrackingTimer());\n")))))),(0,l.kt)("div",{id:"jtc-api-setSiteInspectorSetup"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setSiteInspectorSetup(enable)"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://chrome.google.com/webstore/detail/piwik-pro-site-inspector/njcnagohlmamfijimejlnelenhahnoce"},"Site\nInspector"),"\nis a Chrome browser extension that helps visualize analytics data (e.g.\nclick heat map, scroll map) on tracked pages. Default configuration of\nJavaScript Tracking Client will add configuration for this extension (in\na page HTML), but it is possible to disable this behavior if you don't\nneed it."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean enable",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Whether to enable site inspector support.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setSiteInspectorSetup", false]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setSiteInspectorSetup(false);\n")))))),(0,l.kt)("h3",{id:"miscellaneous"},"Miscellaneous"),(0,l.kt)("div",{id:"jtc-api-ping"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"ping()"),(0,l.kt)("p",null,"Ping method sends requests that are not related to any visitor action,\nbut can still update the session. the most common use for this method is\nupdating session custom dimensions or custom variables."),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["ping"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.ping();\n")))))),(0,l.kt)("div",{id:"jtc-api-addListener"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"addListener(domElement)"),(0,l.kt)("p",null,"Adds automatic link tracking to an HTML element. Can be used to track\nlinks added to a document after page load."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param DOMElement domElement",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Element that should be tracked like a link.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["addListener", document.querySelector("#dynamically-added-link")]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.addListener(document.querySelector("#dynamically-added-link"));\n')))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,"Shouldn't this function be private? Is it of any use to developers? They\ncan track link manually.")))),(0,l.kt)("div",{id:"jtc-api-setRequestMethod"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setRequestMethod(method)"),(0,l.kt)("p",null,"Sets the request method. ",(0,l.kt)("inlineCode",{parentName:"p"},"GET")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"POST")," are valid methods. ",(0,l.kt)("inlineCode",{parentName:"p"},"GET")," is\nthe default."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string method",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Method that will be used in requests. Either ",(0,l.kt)("inlineCode",{parentName:"li"},'"GET"')," or\n",(0,l.kt)("inlineCode",{parentName:"li"},'"POST"'),".")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setRequestMethod", "POST"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setRequestMethod("POST");\n')))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,'Mention same domain or CORS setup for "POST" method')))),(0,l.kt)("div",{id:"jtc-api-setRequestContentType"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setRequestContentType(contentType)"),(0,l.kt)("p",null,"Sets ",(0,l.kt)("inlineCode",{parentName:"p"},"Content-Type")," header of tracking requests. Used when tracking\nusing ",(0,l.kt)("inlineCode",{parentName:"p"},'"POST"')," method (set by\n",(0,l.kt)("inlineCode",{parentName:"p"},"setRequestMethod<jtc-api-setRequestMethod>"),")."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string contentType",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Content-Type value to be set.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setRequestContentType", "text/plain"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setRequestContentType("text/plain");\n')))))),(0,l.kt)("div",{id:"jtc-api-setCustomRequestProcessing"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCustomRequestProcessing(function)"),(0,l.kt)("p",null,"Allows to access and modify query string before sending a page view or\nping request."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param function function",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Function accepting a query string and returning another\nquery string.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCustomRequestProcessing", function (query) {\n    var modifiedQuery = query.replace("rec=1", "rec=0");\n    return modifiedQuery;\n}]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setCustomRequestProcessing(function (query) {\n    var modifiedQuery = query.replace("rec=1", "rec=0");\n    return modifiedQuery;\n});\n')))),(0,l.kt)("div",{class:"todo"},(0,l.kt)("p",null,"Consider removing/deprecating this method for two reasons: 1. It only\naffects pings and page views 2. It is hard to use - doing anything\nuseful with it requires parsing query parameter string")))),(0,l.kt)("div",{id:"jtc-api-enableJSErrorTracking"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"enableJSErrorTracking(unique)"),(0,l.kt)("p",null,"Enables tracking of unhandled JavaScript errors."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean unique",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Optional")," When set to true, tracker will send only unique errors\nfrom a page (duplicated errors will be ignored). Default: ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),".")),(0,l.kt)("div",{class:"note"},(0,l.kt)("div",{class:"title"},(0,l.kt)("p",null,"Note")),(0,l.kt)("p",null,"Browsers may limit information about error details if it occurs in\nscript loaded from different origin (see\n",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror#notes"},"details"),").")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["enableJSErrorTracking"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.enableJSErrorTracking();\n")))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackError(error)"),(0,l.kt)("p",null,"Attempts to send error tracking request using same format as native\nerrors caught by :js",(0,l.kt)("inlineCode",{parentName:"p"},"enableJSErrorTracking"),". Such error request will\nstill follow rules set for tracker, so it will be sent only when JS\nerror tracking is enabled (:js",(0,l.kt)("inlineCode",{parentName:"p"},"enableJSErrorTracking")," function was\ncalled before this attempt). It will also respect rules for tracking\nonly unique errors."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param Error error",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Error object (e.g. caught with ",(0,l.kt)("inlineCode",{parentName:"li"},"try...catch"),")")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackError", new Error("Uncaught SyntaxError")]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.trackError(new Error("Uncaught SyntaxError"));\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getTrackingSource()"),(0,l.kt)("p",null,"Returns tracking source name and version that identifies the library\nsending tracking requests. The default tracking source is ",(0,l.kt)("inlineCode",{parentName:"p"},"jstc")," and can\nbe overwritten using ",(0,l.kt)("inlineCode",{parentName:"p"},"setTrackingSource<jtc-api-setTrackingSource>"),"\nfunction."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"returns",(0,l.kt)("br",{parentName:"p"}),"\n","An array with tracking source name and version, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'["jstc",\n"2.3.1"]'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string","[","]"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push([function() {\n    var nameAndVersion = this.getTrackingSource();\n    console.log("name: " + nameAndVersion[0]);\n    console.log("version: " + nameAndVersion[1]);\n}]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'var nameAndVersion = jstc.getTrackingSource();\nconsole.log("name: " + nameAndVersion[0]);\nconsole.log("version: " + nameAndVersion[1]);\n'))))),(0,l.kt)("div",{id:"jtc-api-setTrackingSource"},(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setTrackingSource(name, version)"),(0,l.kt)("p",null,"Overwrites the default tracking source."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string name",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Required")," Tracking source name, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"custom-source"'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"param string version",(0,l.kt)("br",{parentName:"p"}),"\n",(0,l.kt)("strong",{parentName:"p"},"Optional")," Tracking source version in ",(0,l.kt)("a",{parentName:"p",href:"https://semver.org/"},"Semantic\nVersioning")," format, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"1.0.0"'),". If skipped,\nthe version will not change."))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setTrackingSource", "custom-source", "1.0.0"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.setTrackingSource("custom-source", "1.0.0");\n')))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setGenerationTimeMs(generationTime)"),(0,l.kt)("p",null,"Overrides reported time needed to download current page (by default this\nvalue is fetched from ",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Performance"},"DOM Timing\nAPI"),")."),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"Server generation time is phased out in favor of page performance\nmetrics.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param number generationTime",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Time that server took to generate current page (in\nmilliseconds).")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setGenerationTimeMs", 2546]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setGenerationTimeMs(2546);\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"appendToTrackingUrl(appendToUrl)"),(0,l.kt)("p",null,"Appends provided query string to each tracking request."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string appendToUrl",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Custom query string that will be attached to each\ntracking request (e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'"lat=140&long=100"'),"). Parameter names and\nvalues should be already URL encoded.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["appendToTrackingUrl", "lat=140&long=100"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'jstc.appendToTrackingUrl("lat=140&long=100");\n'))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setDoNotTrack(enable)"),(0,l.kt)("p",null,"When enabled it will disable sending tracking requests."),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"This mechanism is phased out in favor of anonymous tracking. You can\ncheck how to set it up\n",(0,l.kt)("a",{parentName:"p",href:"https://piwik.pro/blog/how-to-do-useful-analytics-without-personal-data/"},"here"),".")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean enable",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," When set to true, no tracking tracking requests will be\nsent.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setDoNotTrack", true]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setDoNotTrack(true);\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"killFrame()"),(0,l.kt)("p",null,"Checks if tracked page is displayed from inside of a\n",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Frame_(World_Wide_Web)"},"frame")," and\nit'll replace browser URL with tracked page URL in such cases\n(displaying page inside a frame can be a phishing scam)."),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"It'll be removed in future versions since it falls outside of JSTC main\nuse case (page tracking).")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["killFrame"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.killFrame();\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"redirectFile(url)"),(0,l.kt)("p",null,"Checks if tracked page is displayed from a local file (URL displayed by\nbrowser starts with ",(0,l.kt)("inlineCode",{parentName:"p"},"file:///"),") and replaces browser URL with provided\nURL in such cases."),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"It'll be removed in future versions since it falls outside of JSTC main\nuse case (page tracking).")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param string url",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," URL that should be loaded.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["redirectFile"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.redirectFile();\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getNumTrackedPageViews()"),(0,l.kt)("p",null,"Returns a number of page views tracked so far without loading new page.\nTraditional sites will always show ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," so it's mostly useful on SPA\npages that use ",(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView")," without loading a new page."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Number of page views tracked so far without loading new page")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","number"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function() {\n    console.log(this.getNumTrackedPageViews());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getNumTrackedPageViews());\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"getConfigIdPageView()"),(0,l.kt)("p",null,"Returns current page view ID. This value is generated with each use of\n",(0,l.kt)("inlineCode",{parentName:"p"},"trackPageView"),". If new value is different ten last value, then JSTC is\ncurrently tracking a new page."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"return",(0,l.kt)("br",{parentName:"p"}),"\n","Page view ID (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"abCdE1"'),")")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"rtype",(0,l.kt)("br",{parentName:"p"}),"\n","string"))),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push([function() {\n    console.log(this.getConfigIdPageView());\n}]);\n"))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"console.log(jstc.getConfigIdPageView());\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"trackHeartBeat()"),(0,l.kt)("p",null,"Sends heartbeat event manually. This heartbeat event will follow rules\nthat are used in other heartbeat events (e.g. it'll be sent only if\ntracked page has focus)."),(0,l.kt)("div",{class:"deprecated"},(0,l.kt)("p",null,"16.17"),(0,l.kt)("p",null,"It was used to sent event that would extend visitor session but internal\nrules on when heartbeat could be sent could cause confusion when event\nwas or wasn't sent. Since introduction of the ",(0,l.kt)("inlineCode",{parentName:"p"},"ping")," method, you should\nuse that instead.")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackHeartBeat"]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"this.trackHeartBeat();\n"))))),(0,l.kt)("div",{class:"function"},(0,l.kt)("p",null,"setCountPreRendered(enable)"),(0,l.kt)("p",null,"Sets prerender event sending policy. If enabled, the\n",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/prerender"},"prerender"),"\nwill send events immediately. Otherwise sending events will be delayed\nuntil the page will be displayed to the viewer."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"param boolean enable",(0,l.kt)("br",{parentName:"li"}),(0,l.kt)("strong",{parentName:"li"},"Required")," Prerender event sending policy (e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),")")),(0,l.kt)("p",null,"Example of usage:"),(0,l.kt)("div",{class:"tabs"},(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"Command queue"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["setCountPreRendered", true]);\n'))),(0,l.kt)("div",{class:"group-tab"},(0,l.kt)("p",null,"JavaScript Tracking Client object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"jstc.setCountPreRendered(true);\n"))))))}u.isMDXComponent=!0}}]);