"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[1474],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=s(a),k=r,d=c["".concat(p,".").concat(k)]||c[k]||m[k]||l;return a?n.createElement(d,o(o({ref:t},u),{},{components:a})):n.createElement(d,o({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=k;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},83166:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const l={},o="Angular",i={unversionedId:"js-api/js-api-analytics/frameworks/angular",id:"js-api/js-api-analytics/frameworks/angular",title:"Angular",description:"This library lets you start collecting data from your web app. It also",source:"@site/docs/js-api/js-api-analytics/frameworks/angular.md",sourceDirName:"js-api/js-api-analytics/frameworks",slug:"/js-api/js-api-analytics/frameworks/angular",permalink:"/docs/js-api/js-api-analytics/frameworks/angular",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/js-api/js-api-analytics/frameworks/angular.md",tags:[],version:"current",frontMatter:{},sidebar:"jsApiSideBar",previous:{title:"Frameworks",permalink:"/docs/js-api/js-api-analytics/frameworks/"},next:{title:"React",permalink:"/docs/js-api/js-api-analytics/frameworks/react"}},p={},s=[{value:"Installation",id:"installation",level:2},{value:"Additional setup for SPA",id:"additional-setup-for-spa",level:2},{value:"Methods",id:"methods",level:2}],u={toc:s},c="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"angular"},"Angular"),(0,r.kt)("p",null,"This library lets you start collecting data from your web app. It also\nhelps you control which data you collect \u2013\u2013 like page views, virtual\npage views, custom events, and more. The library contains modules with\nmethods."),(0,r.kt)("p",null,"To call methods in Angular, you'll use ",(0,r.kt)("inlineCode",{parentName:"p"},"CustomEventsService")," or\n",(0,r.kt)("inlineCode",{parentName:"p"},"PageViewsService"),"."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"To install JS library for Angular, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In your project folder, run the following command:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"npm install @piwik-pro/ngx-piwik-pro\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"yarn add @piwikpro/ngx-piwik-pro\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Add the ",(0,r.kt)("inlineCode",{parentName:"li"},"NgxPiwikProModule")," module in your highest level app module.\nCall the ",(0,r.kt)("strong",{parentName:"li"},"forRoot()")," method by passing your account address\n(Example: ",(0,r.kt)("a",{parentName:"li",href:"https://example.piwik.pro/"},"https://example.piwik.pro/"),") and the site ID (",(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/questions/find-website-id/"},"Where to\nfind\nit?"),"):")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { NgxPiwikProModule } from '@piwik-pro/ngx-piwik-pro';\n\n  @NgModule({\n    declarations: [\n      AppComponent\n      ],\n    imports: [\n      BrowserModule,\n      NgxPiwikProModule.forRoot('site-id', 'account-address')\n      ],\n    providers: [],\n    bootstrap: [AppComponent]\n    })\n    export class AppModule { }\n")),(0,r.kt)("p",null,"Note: This method makes sure that collected data is sent to the your\naccount in Piwik PRO and is reported as a corresponding site or app."),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Add tracking methods like page views or custom events to your\napplication."),(0,r.kt)("li",{parentName:"ol"},"Data will appear in reports in about an hour. Data in the tracker\ndebugger will appear instantly.")),(0,r.kt)("h2",{id:"additional-setup-for-spa"},"Additional setup for SPA"),(0,r.kt)("p",null,"If your web app is built as a single-page application (SPA), you need to\ntrack virtual page views. In SPAs, when a user goes from one page to the\nother, the page doesn't reload. It loads just once at the beginning of\nthe session. Because of that, page views can't be recorded in the usual\nway. You need virtual page views."),(0,r.kt)("p",null,"To automatically track virtual page views in Angular projects, you need\nto follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add ",(0,r.kt)("inlineCode",{parentName:"li"},"NgxPiwikProRouterModule")," on AppModule to enable automatic\ntracking of Router events.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { NgxPiwikProModule, NgxPiwikProRouterModule } from '@piwik-pro/ngx-piwik-pro';\n...\n\n@NgModule({\n...\n  imports: [\n  ...\n  NgxPiwikProModule.forRoot('account-address'),\n  NgxPiwikProRouterModule\n  //  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  ]\n  })\n  export class AppModule {}\n")),(0,r.kt)("p",null,"Note: The ",(0,r.kt)("inlineCode",{parentName:"p"},"NgxPiwikProRouterModule")," module subscribes to Router events\nwhen the bootstrap component is created. After that, it cleans up any\nsubscriptions related to the previous component when it is destroyed. If\nyou use this module with server-side rendering or multiple bootstrap\ncomponents, you may get some issues. In that case, we recommend\nsubscribing to the page view events manually."),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Additionally, you can use the following include/exclude settings:")),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"{ include: ","["," '/full-uri-match' ","]"," } \u2013 simple route matching"),(0,r.kt)("li",{parentName:"ul"},"{ include: ","["," '",(0,r.kt)("em",{parentName:"li"},"/public/"),"' ","]"," } \u2013 wildcard route matching"),(0,r.kt)("li",{parentName:"ul"},"{ include: ","["," /^/public/.","*","/ ","]"," } \u2013 regular expression route\nmatching"))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { NgxPiwikProModule, NgxPiwikProRouterModule } from '@piwik-pro/ngx-piwik-pro';\n  ...\n\n@NgModule({\n  ...\n  imports: [\n    ...\n    NgxPiwikProModule.forRoot('account-address'),\n    NgxPiwikProRouterModule.forRoot({ include: [...], exclude: [...] })\n//  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  ]\n})\nexport class AppModule {}\n")),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("p",null,"Here's a list of all JS methods you can use in your Angular project.\nDescriptions and other information are available after clicking on\nlinks."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"A")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"addDownloadExtensions()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"addEcommerceItem()"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"C")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"clearEcommerceCart()"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"D")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deleteCustomDimension()"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"E")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"enableLinkTracking()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"G")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"getCustomDimensionValue()"),(0,r.kt)("li",{parentName:"ul"},"getEcommerceItems()"),(0,r.kt)("li",{parentName:"ul"},"getLinkTrackingTimer()"),(0,r.kt)("li",{parentName:"ul"},"getUserId()"),(0,r.kt)("li",{parentName:"ul"},"getVisitorId()"),(0,r.kt)("li",{parentName:"ul"},"getVisitorInfo()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"R")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"removeDownloadExtensions()"),(0,r.kt)("li",{parentName:"ul"},"removeEcommerceItem()"),(0,r.kt)("li",{parentName:"ul"},"resetUserId()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"setCustomDimensionValue()"),(0,r.kt)("li",{parentName:"ul"},"setDownloadClasses()"),(0,r.kt)("li",{parentName:"ul"},"setDownloadExtensions()"),(0,r.kt)("li",{parentName:"ul"},"setEcommerceView()"),(0,r.kt)("li",{parentName:"ul"},"setIgnoreClasses()"),(0,r.kt)("li",{parentName:"ul"},"setLinkClasses()"),(0,r.kt)("li",{parentName:"ul"},"setLinkTrackingTimer()"),(0,r.kt)("li",{parentName:"ul"},"setUserId()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"T")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"trackContentImpression()"),(0,r.kt)("li",{parentName:"ul"},"trackContentInteraction()"),(0,r.kt)("li",{parentName:"ul"},"trackEcommerceCartUpdate()"),(0,r.kt)("li",{parentName:"ul"},"trackEcommerceOrder()"),(0,r.kt)("li",{parentName:"ul"},"trackEvent()"),(0,r.kt)("li",{parentName:"ul"},"trackGoal()"),(0,r.kt)("li",{parentName:"ul"},"trackLink()"),(0,r.kt)("li",{parentName:"ul"},"trackPageView()"),(0,r.kt)("li",{parentName:"ul"},"trackSiteSearch()")))}m.isMDXComponent=!0}}]);