"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[3641],{11553:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var i=t(85893),a=t(11151);const s={},r="Skip link tracking with a data-disable-delay attribute",l={id:"other/skip-link-tracking",title:"skip-link-tracking",description:"js",source:"@site/docs/other/skip-link-tracking.md",sourceDirName:"other",slug:"/other/skip-link-tracking",permalink:"/docs/other/skip-link-tracking",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/other/skip-link-tracking.md",tags:[],version:"current",frontMatter:{},sidebar:"otherSideBar",previous:{title:"index",permalink:"/docs/other/"}},c={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Delay mechanism",id:"delay-mechanism",level:2},{value:"data-disable-delay attribute",id:"data-disable-delay-attribute",level:2},{value:"Example",id:"example",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{class:"default-domain",children:(0,i.jsx)(n.p,{children:"js"})}),"\n",(0,i.jsx)(n.h1,{id:"skip-link-tracking-with-a-data-disable-delay-attribute",children:"Skip link tracking with a data-disable-delay attribute"}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.p,{children:["As per the\n",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a",children:"MDN"}),"\ndefinition:"]}),"\n",(0,i.jsx)(n.p,{children:"The <a> HTML element (or anchor element), with its href attribute,\ncreates a hyperlink to web pages, files, email addresses, locations in\nthe same page, or anything else a URL can address."}),"\n",(0,i.jsx)(n.p,{children:"If you wish to trigger tags, when the anchor element is clicked, they\nneed time to execute before the redirect happens. That is why our\ncontainer is equipped with a delay mechanism."}),"\n",(0,i.jsx)(n.h2,{id:"delay-mechanism",children:"Delay mechanism"}),"\n",(0,i.jsxs)(n.p,{children:["Each app or site you create has the option to\n",(0,i.jsx)("span",{class:"title-ref",children:"Delay loading the next page"})," in its\nsettings. You can adjust this value in ",(0,i.jsx)("span",{class:"title-ref",children:"Data\ncollection -> Other options"})," section in your app settings under\n",(0,i.jsx)("span",{class:"title-ref",children:"Administration -> Sites & apps"}),". The\ndefault value for each app is ",(0,i.jsx)(n.code,{children:"500ms"}),". Once you assign a trigger and a\ntag to an anchor element on your page, this mechanism will ensure that\nthe tag fires and has time to execute, before the visitor is redirected\nto the desired page."]}),"\n",(0,i.jsxs)(n.p,{children:["However, not every anchor element is supposed to perform a redirect. One\nsuch example can be SPA pages where ",(0,i.jsx)(n.code,{children:"a"})," elements can serve as buttons.\nIn such case, the action performed inside the container can break the\nfunctionality of the page. That is where the ",(0,i.jsx)(n.code,{children:"data-disable-delay"}),"\nattribute comes in."]}),"\n",(0,i.jsx)(n.h2,{id:"data-disable-delay-attribute",children:"data-disable-delay attribute"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"data-disable-dalay"})," is special custom attribute that is recognized by\nthe container. Once the anchor element is clicked and the aforementioned\nattribute is detected on the element, it tells the container to skip the\nexecution of the logic responsible for delaying the default action.\nListeners attached to the element are executed immediatly after\nclicking."]}),"\n",(0,i.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Let's assume that your Tag Manager setup includes a\n",(0,i.jsx)("span",{class:"title-ref",children:"Custom code (async)"})," tag (the contents\nof the tag does not matter in this case) and a basic\n",(0,i.jsx)("span",{class:"title-ref",children:"Click trigger"})," assigned to the said\ntag."]}),"\n",(0,i.jsx)(n.li,{children:"On your page, the following code is present:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<a\n    id='link-id'\n    href=\"/\"\n>\n    link\n</a>\n<script>\n    window.setTimeout(function() {\n        document.addEventListener('click', function(event) {\n            if(event.target.id === 'link-id') {\n                event.preventDefault()\n            }\n        })\n    }, 1000)\n<\/script>\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Once the visitor clicks the link, a redirect happens. This is not\ndesired, since the listener performs a\n",(0,i.jsx)("span",{class:"title-ref",children:"preventDefault"})," action."]}),"\n",(0,i.jsx)(n.li,{children:"Now let's modify the anchor element to look like this:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<a\n    id='link-id'\n    href=\"/\"\n    data-disable-delay\n>\n    link\n</a>\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"After the modification is done, clicking the link no longer performs\na redirect and fires the click listener immediately."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>r});var i=t(67294);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);