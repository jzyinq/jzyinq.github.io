"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[2581],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),o=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=o(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=o(a),k=r,m=u["".concat(p,".").concat(k)]||u[k]||d[k]||i;return a?n.createElement(m,l(l({ref:t},c),{},{components:a})):n.createElement(m,l({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=k;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:r,l[1]=s;for(var o=2;o<i;o++)l[o]=a[o];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},31552:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var n=a(87462),r=(a(67294),a(3905));const i={},l="Plain JavaScript",s={unversionedId:"js-api/js-api-analytics/plain-javascript",id:"js-api/js-api-analytics/plain-javascript",title:"Plain JavaScript",description:"Here are some guidelines on how to use our JavaScript library in Java",source:"@site/docs/js-api/js-api-analytics/plain-javascript.md",sourceDirName:"js-api/js-api-analytics",slug:"/js-api/js-api-analytics/plain-javascript",permalink:"/docs/js-api/js-api-analytics/plain-javascript",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/js-api/js-api-analytics/plain-javascript.md",tags:[],version:"current",frontMatter:{},sidebar:"jsApiSideBar",previous:{title:"getCustomDimension() \u2022",permalink:"/docs/js-api/js-api-analytics/methods/getCustomDimension()"},next:{title:"JS API Consent Manager",permalink:"/docs/js-api/js-api-consent-manager/"}},p={},o=[{value:"Installation",id:"installation",level:2},{value:"Methods used for calls",id:"methods-used-for-calls",level:2},{value:"push()",id:"push",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Examples",id:"examples",level:4},{value:"JS this keyword",id:"js-this-keyword",level:3},{value:"Examples",id:"examples-1",level:4},{value:"getTracker()",id:"gettracker",level:3},{value:"Syntax",id:"syntax-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Return value",id:"return-value",level:4},{value:"Examples",id:"examples-2",level:4},{value:"getAsyncTracker()",id:"getasynctracker",level:3},{value:"Syntax",id:"syntax-2",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Return value",id:"return-value-1",level:4},{value:"Examples",id:"examples-3",level:4},{value:"Reserved variable names",id:"reserved-variable-names",level:2}],c={toc:o},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"plain-javascript"},"Plain JavaScript"),(0,r.kt)("p",null,"Here are some guidelines on how to use our JavaScript library in Java\nScript."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Our JavaScript library can be used only after you installed our\ncontainer's code (or only a tracking code) on your site. The code\ncreates a ",(0,r.kt)("inlineCode",{parentName:"p"},"<script>")," tag that asynchronously loads the JavaScript\nlibrary in the website's body section."),(0,r.kt)("p",null,"If you haven't installed the code yet, you can find it directly in Piwik\nPRO in ",(0,r.kt)("strong",{parentName:"p"},"Menu")," ",">"," ",(0,r.kt)("strong",{parentName:"p"},"Administration")," ",">"," ",(0,r.kt)("strong",{parentName:"p"},"Sites & apps")," ",">","\n",(0,r.kt)("strong",{parentName:"p"},"Installation"),"."),(0,r.kt)("p",null,"For more, see our installation guides:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/install-a-tracking-code/"},"Install a container (with a tracking\ncode)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/google-tag-manager-install-a-container-with-a-tracking-code/"},"Google Tag Manager: install a container (with a tracking\ncode)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/google-tag-manager-install-a-tracking-code/"},"Google Tag Manager: install only a tracking\ncode")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/instapage-install-a-container-with-a-tracking-code/"},"Instapage: install a container (with a tracking\ncode)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/no-piwik-pro-tag-manager-install-a-tracking-code/"},"No Piwik PRO Tag Manager: install a tracking\ncode")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/squarespace-install-a-container-with-a-tracking-code/"},"Squarespace: install a container (with a tracking\ncode)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://help.piwik.pro/support/getting-started/wordpress-install-a-tracking-code/"},"WordPress: install a container (with a tracking\ncode)"))),(0,r.kt)("h2",{id:"methods-used-for-calls"},"Methods used for calls"),(0,r.kt)("p",null,"In JavaScript, our methods can be called in a few ways:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"JS (queue):")," After installing our container's code, it'll create\nthe ",(0,r.kt)("inlineCode",{parentName:"li"},"_paq")," object (a queue). You can use the ",(0,r.kt)("inlineCode",{parentName:"li"},"push()")," method to add\nmethods to the queue. Our tracker will then access and proceed these\nmethods. With this method, you can also use ",(0,r.kt)("inlineCode",{parentName:"li"},"this")," keyword to send a\nfew methods within one call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"JS (direct):")," After installing our container's code, you can\naccess our tracker directly (and don't use the queue) with the\n",(0,r.kt)("inlineCode",{parentName:"li"},"getTracker()")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"getAsyncTracker()")," method.")),(0,r.kt)("h3",{id:"push"},"push()"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"push()")," method adds methods to the ",(0,r.kt)("inlineCode",{parentName:"p"},"_paq")," object (a queue). The\nmethods are called after the container's code (or a tracking code) loads\non a page. They are called synchronously (one by one)."),(0,r.kt)("h4",{id:"syntax"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"_paq.push(command)\n")),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"command")," (string, required)",(0,r.kt)("br",{parentName:"p"}),"\n","An array containing our JavaScript methods."),(0,r.kt)("h4",{id:"examples"},"Examples"),(0,r.kt)("p",null,"To send a page view:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackPageView"]);\n')),(0,r.kt)("p",null,"To send a custom event:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push(["trackEvent", "Button", "Sign up"]);\n')),(0,r.kt)("h3",{id:"js-this-keyword"},"JS this keyword"),(0,r.kt)("p",null,"The JavaScript ",(0,r.kt)("inlineCode",{parentName:"p"},"this")," keyword lets you add a few methods to the ",(0,r.kt)("inlineCode",{parentName:"p"},"_paq"),"\nobject (a queue) in a single call."),(0,r.kt)("h4",{id:"examples-1"},"Examples"),(0,r.kt)("p",null,"To send a page view and a custom event at once:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'_paq.push([function () {\n    this.trackPageView();\n    this.trackEvent("Button", "Sign up");\n}]);\n')),(0,r.kt)("h3",{id:"gettracker"},"getTracker()"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"getTracker()")," method gives you a direct access to an async\ntracker. An async tracker is the basic one used for collecting data and\nusing async tags. This method lets you read the return value of the sent\nmethod. It also lets you send methods for a few sites or apps at once."),(0,r.kt)("h4",{id:"syntax-1"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"Piwik.getTracker(account-address, site-id)\n")),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"account-address")," (string, required)",(0,r.kt)("br",{parentName:"p"}),"\n","Account address in Piwik PRO. Example: ",(0,r.kt)("a",{parentName:"p",href:"https://example.piwik.pro/"},"https://example.piwik.pro/")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"site-id")," (string, required)",(0,r.kt)("br",{parentName:"p"}),"\n","Your site or app ID in Piwik PRO where you want to send data. ",(0,r.kt)("a",{parentName:"p",href:"https://help.piwik.pro/support/questions/find-website-id/"},"Where to\nfind it?")),(0,r.kt)("h4",{id:"return-value"},"Return value"),(0,r.kt)("p",null,"An object with account details in Piwik PRO."),(0,r.kt)("h4",{id:"examples-2"},"Examples"),(0,r.kt)("p",null,"To send a page view:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var jstc = Piwik.getTracker("https://example.com/", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\njstc.trackPageView();\n')),(0,r.kt)("p",null,"To send a custom event:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var jstc = Piwik.getTracker("https://example.com/", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\njstc.trackEvent("trackEvent", "Button", "Sign up");\n')),(0,r.kt)("h3",{id:"getasynctracker"},"getAsyncTracker()"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"getAsyncTracker()")," method gives you a direct access to an async\ntracker. An async tracker is used additionally if you've installed the\nasync container on your site. This method lets you read the return value\nof the sent method. It also lets you send methods for a few sites or\napps at once."),(0,r.kt)("h4",{id:"syntax-2"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"Piwik.getTracker(account-address, site-id)\n")),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"account-address")," (string, required)",(0,r.kt)("br",{parentName:"p"}),"\n","Account address in Piwik PRO. Example: ",(0,r.kt)("a",{parentName:"p",href:"https://example.piwik.pro/"},"https://example.piwik.pro/")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"site-id")," (string, required)",(0,r.kt)("br",{parentName:"p"}),"\n","Your site or app ID in Piwik PRO where you want to send data. Where to\nfind it?"),(0,r.kt)("h4",{id:"return-value-1"},"Return value"),(0,r.kt)("p",null,"An object with account details in Piwik PRO."),(0,r.kt)("h4",{id:"examples-3"},"Examples"),(0,r.kt)("p",null,"To send a page view:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var jstc = Piwik.getAsyncTracker("https://example.com/", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\njstc.trackPageView();\n')),(0,r.kt)("p",null,"To send a custom event:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var jstc = Piwik.getAsyncTracker("https://example.com/", "45e07cbf-c8b3-42f3-a6d6-a5a176f623ef");\njstc.trackEvent("trackEvent", "Button", "Sign up");\n')),(0,r.kt)("h2",{id:"reserved-variable-names"},"Reserved variable names"),(0,r.kt)("p",null,"When you use our JavaScript library, you can't name your variables with\nnames that we've set as global variables -- it can break the tracking.\nHere's the list of reserved variable names:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Piwik"),(0,r.kt)("li",{parentName:"ul"},"_","paq"),(0,r.kt)("li",{parentName:"ul"},"JSON","_","PIWIK"),(0,r.kt)("li",{parentName:"ul"},"piwikPluginAsyncInit"),(0,r.kt)("li",{parentName:"ul"},"piwikAsyncInit"),(0,r.kt)("li",{parentName:"ul"},"AnalyticsTracker"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","install","_","tracker"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","tracker","_","pause"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","download","_","extensions"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","hosts","_","alias"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","ignore","_","classes"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","log"),(0,r.kt)("li",{parentName:"ul"},"piwik","_","track"),(0,r.kt)("li",{parentName:"ul"},"sevenTag")))}d.isMDXComponent=!0}}]);