"use strict";(self.webpackChunkpiwik_pro=self.webpackChunkpiwik_pro||[]).push([[5565],{38704:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>a});var r=t(85893),s=t(11151);const i={},c="Event processing",d={id:"other/event-type-detection",title:"Event processing",description:"Here's the order in which our tracker detects event types. The detection",source:"@site/docs/other/event-type-detection.md",sourceDirName:"other",slug:"/other/event-type-detection",permalink:"/docs/other/event-type-detection",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/other/event-type-detection.md",tags:[],version:"current",frontMatter:{},sidebar:"otherSideBar",previous:{title:"data-layer-name",permalink:"/docs/other/data-layer-name"},next:{title:"index",permalink:"/docs/other/"}},o={},a=[{value:"Other events",id:"other-events",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"event-processing",children:"Event processing"}),"\n",(0,r.jsx)(n.p,{children:"Here's the order in which our tracker detects event types. The detection\nprocess is completed with the first match. After that it stops and no\nfurther matching is performed."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1: Goal conversion."})," First step in the event type detection\nprocess is a check for conversion signs in the tracked event. If your\ntracked event had an ",(0,r.jsx)(n.code,{children:"idgoal"})," parameter with the ID value other than ",(0,r.jsx)(n.code,{children:"0"}),"\nthen it will be marked as ",(0,r.jsx)(n.code,{children:"GoalConversion"})," type."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2: Ping."})," Then the ",(0,r.jsx)(n.code,{children:"ping"})," parameter is analyzed. Depending on\nit's value one of the following ping types will be assigned:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["values ",(0,r.jsx)(n.code,{children:"1"}),", ",(0,r.jsx)(n.code,{children:"2"})," and ",(0,r.jsx)(n.code,{children:"3"})," result in ",(0,r.jsx)(n.code,{children:"Heartbeat"})," ping type"]}),"\n",(0,r.jsxs)(n.li,{children:["value of ",(0,r.jsx)(n.code,{children:"4"})," results in ",(0,r.jsx)(n.code,{children:"Deanonymization"})," ping type"]}),"\n",(0,r.jsxs)(n.li,{children:["value of ",(0,r.jsx)(n.code,{children:"5"})," results in ",(0,r.jsx)(n.code,{children:"PagePerformance"})," ping type"]}),"\n",(0,r.jsxs)(n.li,{children:["value of ",(0,r.jsx)(n.code,{children:"6"})," results in ",(0,r.jsx)(n.code,{children:"CustomPing"})," ping type"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Values outside of that range will cause an error which results in\n",(0,r.jsx)(n.code,{children:"BrokenEvent"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 3: Download."})," Event will be categorized as ",(0,r.jsx)(n.code,{children:"Download"})," when\n",(0,r.jsx)(n.code,{children:"download"})," parameter of the tracked event is provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 4: Outlink."})," Event will be categorized as ",(0,r.jsx)(n.code,{children:"Outlink"})," when ",(0,r.jsx)(n.code,{children:"link"}),"\nparameter of the tracked event is provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 5: Consent form impression."})," Event will be categorized as\n",(0,r.jsx)(n.code,{children:"ConsentFormImpression"})," when ",(0,r.jsx)(n.code,{children:"e_c"})," parameter of the tracked event has\nvalue ",(0,r.jsx)(n.code,{children:"consent_form_impression"})," assigned."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 6: Consent form click."})," Event will be categorized as\n",(0,r.jsx)(n.code,{children:"ConsentFormClick"})," when ",(0,r.jsx)(n.code,{children:"e_c"})," parameter of the tracked event has value\n",(0,r.jsx)(n.code,{children:"consent_form_click"})," assigned."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 7: Consent decision."})," Event will be categorized as\n",(0,r.jsx)(n.code,{children:"ConsentDecision"})," when ",(0,r.jsx)(n.code,{children:"e_c"})," parameter of the tracked event has value\n",(0,r.jsx)(n.code,{children:"consent_decision"})," assigned."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 8: SharePoint"})," SharePoint event type detection is a bit more\ncomplicated. For the event to be categorized as ",(0,r.jsx)(n.code,{children:"SharePoint"})," type two\nthings must occur:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Custom Variable 1 key has to be equal to ",(0,r.jsx)(n.code,{children:"ppas.sharepoint.plugin"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"e_c"})," parameter has to be equal to either ",(0,r.jsx)(n.code,{children:"download"})," or ",(0,r.jsx)(n.code,{children:"search"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 9: Custom event."})," Event will be categorized as ",(0,r.jsx)(n.code,{children:"Custom"})," when\n",(0,r.jsx)(n.code,{children:"e_c"})," and ",(0,r.jsx)(n.code,{children:"e_a"})," parameters of the tracked event are provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 10: Content interaction."})," Event will be categorized as\n",(0,r.jsx)(n.code,{children:"ContentInteraction"})," when ",(0,r.jsx)(n.code,{children:"c_i"})," and ",(0,r.jsx)(n.code,{children:"c_n"})," parameters of the tracked\nevent are provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 11: Content impression."})," Event will be categorized as\n",(0,r.jsx)(n.code,{children:"ContentImpression"})," when only ",(0,r.jsx)(n.code,{children:"c_n"})," parameter of the tracked event is\nprovided (and ",(0,r.jsx)(n.code,{children:"c_i"})," is not)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 12: Cart update."})," Event will be categorized as ",(0,r.jsx)(n.code,{children:"CartUpdated"}),"\nwhen ",(0,r.jsx)(n.code,{children:"idgoal"})," parameter of the tracked event is equal to ",(0,r.jsx)(n.code,{children:"0"})," and ",(0,r.jsx)(n.code,{children:"ec_id"}),"\nparameter is NOT provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 13: Order completed."})," Event will be categorized as\n",(0,r.jsx)(n.code,{children:"OrderCompleted"})," when ",(0,r.jsx)(n.code,{children:"idgoal"})," parameter of the tracked event is equal\nto ",(0,r.jsx)(n.code,{children:"0"})," but also ",(0,r.jsx)(n.code,{children:"ec_id"})," parameter is provided."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 14: Site search."})," Event will be categorized as ",(0,r.jsx)(n.code,{children:"Search"})," when\neither ",(0,r.jsx)(n.code,{children:"search"})," parameter of the tracked event is provided or a search\nterm was detected in the tracked url (provided as the ",(0,r.jsx)(n.code,{children:"url"})," parameter)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 15: Page view."})," When every other detection step failed then your\nevent will be categoried as a simple ",(0,r.jsx)(n.code,{children:"PageView"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"other-events",children:"Other events"}),"\n",(0,r.jsx)(n.p,{children:"Here are events that aren't detected in the described way. They are a\nresult of the post-processing of an event or a session."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Abandoned cart:"})," When a session did not track a ",(0,r.jsx)(n.code,{children:"OrderCompleted"}),"\nevent, the last event of that type will be converted to ",(0,r.jsx)(n.code,{children:"AbandonedCart"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Excluded event:"})," There are several ways of excluding an event (e.g.\nby blacklisting source IP or User-Agent header matching). If an event\nmatches given criteria it will be excluded from the reports but is still\ntracked and receives ",(0,r.jsx)(n.code,{children:"ExcludedEvent"})," type. If you experien any report\nabnormalities you may check Tracker Debugger if any of the legitimate\ntraffic is not excluded by mistake."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Broken event:"})," The last type is assigned to the tracked event when\nany error occurs during the processing (e.g. you provided incorrect\nvalue in the ",(0,r.jsx)(n.code,{children:"idgoal"})," parameter, provided ",(0,r.jsx)(n.code,{children:"idsite"})," does not exist, etc).\nThat way you can still check it in the tracker debugger and attached\nerror message will tell you what is wrong with it."]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>c});var r=t(67294);const s={},i=r.createContext(s);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);