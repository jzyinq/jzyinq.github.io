{"openapi": "3.0.0", "info": {"title": "Tag Manager API", "version": "16.34"}, "security": [{"BearerAuth": []}], "servers": [{"url": "https://example.piwik.pro"}], "paths": {"/api/tag/v1/{app_id}/triggers": {"parameters": [{"in": "path", "name": "app_id", "required": true, "description": "Application identifier", "schema": {"title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "example": "1f74dda5-b598-41d6-a9e4-f501ef4379e1"}], "get": {"summary": "List of triggers", "description": "### JSON API compatibility divergence\n\n#### Filters\nIn JSON API standard (https://jsonapi.org/recommendations/#filtering) one can request elements with multiple\nfilter values by simply providing them separated by coma:\n\n`triggers?filter[trigger_type]=click,event`\n\nUnfortunately it is not possible in this endpoint.\n", "parameters": [{"in": "query", "name": "page[limit]", "required": false, "description": "Limits the number of returned items", "schema": {"type": "integer", "minimum": 1}, "example": 10}, {"in": "query", "name": "page[offset]", "required": false, "description": "Sets offset for list of items", "schema": {"type": "integer", "minimum": 0}, "example": 20}, {"in": "query", "name": "filter[name]", "required": false, "description": "Filter triggers by name", "schema": {"type": "string", "minLength": 1, "maxLength": 255}, "example": "All page views"}, {"in": "query", "name": "filter[trigger_type]", "required": false, "description": "Filter triggers by type", "schema": {"type": "string", "enum": ["page_view", "page_load", "dom_ready", "leave_content", "page_scroll", "time_on_website", "event", "history", "debounced_history", "form_submission", "click", "element_presence"], "description": "Trigger type"}, "example": "url"}, {"in": "query", "name": "sort", "required": false, "description": "Comma-separated sort list with given attributes: name, created_at, updated_at", "schema": {"type": "array", "items": {"type": "string", "enum": ["name", "-name", "created_at", "-created_at", "updated_at", "-updated_at"]}, "minItems": 1}, "example": ["name", "-created_at", "updated_at"]}], "responses": {"200": {"description": "List of triggers", "content": {"application/vnd.api+json": {"schema": {"description": "Triggers list response", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 list response data", "type": "array", "items": {"type": "object", "properties": {"id": {"description": "Trigger identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Trigger attributes", "properties": {"name": {"description": "Trigger name", "type": "string", "minLength": 1, "maxLength": 255}, "trigger_type": {"type": "string", "enum": ["page_view", "page_load", "dom_ready", "leave_content", "page_scroll", "time_on_website", "event", "history", "debounced_history", "form_submission", "click", "element_presence"], "description": "Trigger type"}, "is_published": {"type": "boolean", "description": "Flag describing whether trigger is published (true) or not published (false)"}, "created_at": {"title": "DateTime", "description": "ISO 8601", "type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\+[0-9]{2}:[0-9]{2}$"}, "updated_at": {"title": "DateTime", "description": "ISO 8601", "type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\+[0-9]{2}:[0-9]{2}$"}}, "required": ["name", "trigger_type", "is_published", "created_at", "updated_at"], "additionalProperties": false}}, "required": ["id", "type", "attributes"], "additionalProperties": false}}, "meta": {"type": "object", "description": "Meta information about resources", "properties": {"total": {"description": "Total number of elements", "type": "integer", "minimum": 0}}, "additionalProperties": false, "required": ["total"]}, "links": {"type": "object", "description": "Pagination links", "properties": {"self": {"description": "Link to current page", "type": "string", "format": "uri"}, "first": {"description": "Link to first page", "oneOf": [{"type": "string", "format": "uri"}, {"title": "null", "description": "", "enum": [null]}]}, "last": {"description": "Link to last page", "oneOf": [{"type": "string", "format": "uri"}, {"title": "null", "description": "", "enum": [null]}]}, "prev": {"description": "Link to previous page", "oneOf": [{"type": "string", "format": "uri"}, {"title": "null", "description": "", "enum": [null]}]}, "next": {"description": "Link to next page", "oneOf": [{"type": "string", "format": "uri"}, {"title": "null", "description": "", "enum": [null]}]}}, "additionalProperties": false, "required": ["self"]}}, "required": ["data", "meta", "links"], "additionalProperties": false}, "example": {"meta": {"total": 2}, "links": {"self": "/api/tag/v1/triggers/?sort=name&page[offset]=0&page[limit]=10", "first": "/api/tag/v1/triggers/?sort=name&page[offset]=0&page[limit]=10", "last": "/api/tag/v1/triggers/?sort=name&page[offset]=0&page[limit]=10", "prev": null, "next": null}, "data": [{"type": "trigger", "id": "252eebdd-99a6-4942-9805-7a94c717d2fa", "attributes": {"name": "Trigger Page view", "trigger_type": "page_view", "is_published": true, "created_at": "2019-11-30T09:17:17+00:00", "updated_at": "2020-05-05T07:47:08+00:00"}}, {"type": "trigger", "id": "57a653c9-07c0-4f9a-85f6-1cda14eb5e3e", "attributes": {"name": "Trigger page view for custom campaign", "trigger_type": "page_view", "is_published": false, "created_at": "2020-03-09T12:17:57+00:00", "updated_at": "2020-05-05T07:47:08+00:00"}}]}}}}, "400": {"description": "Bad request parameter", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INVALID_URI_PARAMETER_ERROR", "detail": "Application identifier should be of type UUID", "source": {"parameter": "app_id"}}]}}}}, "401": {"description": "Unauthorized", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "UNAUTHORIZED_ERROR", "detail": "Access token not authorized"}]}}}}, "404": {"description": "Not found", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "NOT_FOUND_ERROR", "detail": "There is no application with given identifier: 5c39070d-9e0b-40a2-ae56-392f05711f74", "source": {"parameter": "app_id"}}]}}}}, "500": {"description": "Internal server error", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INTERNAL_SERVER_ERROR", "detail": "MySQL server has gone away"}]}}}}}, "tags": ["Tag Manager"]}, "post": {"summary": "Create trigger", "responses": {"201": {"description": "Trigger data", "content": {"application/vnd.api+json": {"schema": {"description": "Create trigger response", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 response data", "type": "object", "properties": {"id": {"description": "Trigger identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Trigger attributes", "properties": {"name": {"description": "Trigger name", "type": "string", "minLength": 1, "maxLength": 255}, "trigger_type": {"type": "string", "enum": ["page_view", "page_load", "dom_ready", "leave_content", "page_scroll", "time_on_website", "event", "history", "debounced_history", "form_submission", "click", "element_presence"], "description": "Trigger type"}, "conditions": {"type": "array", "items": {"type": "object", "properties": {"condition_id": {"description": "Condition identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "variable_id": {"description": "Variable identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "condition_type": {"type": "string", "enum": ["contains", "does_not_contain", "starts_with", "ends_with", "equals", "does_not_equal", "regexp", "does_not_start_with", "does_not_end_with", "does_not_regexp", "is_true", "is_false", "is_set", "is_not_set", "is_empty", "is_not_empty", "matches", "does_not_match", "is_a_child_of", "is_not_a_child_of", "is_first_visit", "is_not_first_visit", "each_time", "once_per_page_view", "once_per_session", "visitor_belongs_to", "visitor_not_belongs_to", "cannot_identify_audience"], "description": "Condition type"}, "value": {"description": "Condition value", "oneOf": [{"type": "string", "minLength": 1, "maxLength": 255}, {"title": "null", "description": "", "enum": [null]}]}, "options": {"description": "Condition options", "oneOf": [{"title": "Default condition options", "type": "object", "additionalProperties": false}, {"title": "Selector type condition options", "type": "object", "properties": {"selector_type": {"type": "string", "enum": ["xpath", "css"], "description": "Selector type"}}, "required": ["selector_type"], "additionalProperties": false}, {"title": "Page scroll unit condition options", "type": "object", "properties": {"unit": {"type": "string", "enum": ["percentage", "pixels"], "description": "Page scroll unit"}}, "required": ["unit"], "additionalProperties": false}]}}, "required": ["condition_id", "variable_id", "condition_type", "value", "options"], "additionalProperties": false}, "description": "Trigger conditions"}, "created_at": {"title": "DateTime", "description": "ISO 8601", "type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\+[0-9]{2}:[0-9]{2}$"}, "updated_at": {"title": "DateTime", "description": "ISO 8601", "type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\+[0-9]{2}:[0-9]{2}$"}}, "required": ["name", "trigger_type", "conditions", "created_at", "updated_at"], "additionalProperties": false}, "relationships": {"allOf": [{"description": "Tag relationships"}, {"type": "object", "properties": {"tags": {"description": "Trigger tags", "type": "object", "properties": {"data": {"title": "Tag relationship", "description": "JSON:API 1.0 relationship data", "type": "array", "minItems": 0, "items": {"properties": {"id": {"description": "Tag identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"description": "Tag resource type", "type": "string", "enum": ["tag"]}}, "additionalProperties": false, "required": ["id", "type"]}}}, "additionalProperties": false, "required": ["data"]}}, "additionalProperties": false, "required": ["tags"]}]}}, "required": ["id", "type", "attributes", "relationships"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}, "example": {"data": {"id": "57a653c9-07c0-4f9a-85f6-1cda14eb5e3e", "type": "trigger", "attributes": {"name": "Trigger page view for default campaign", "trigger_type": "page_view", "conditions": [{"condition_id": "9efa6364-8982-45c5-a288-cdabdf7a4001", "variable_id": "42ff090e-f97c-45b5-8625-21ae26891382", "condition_type": "equals", "value": "clearcode.cc", "options": {}}, {"condition_id": "9c376cf0-09db-45f1-a2ee-9163d7f10d99", "variable_id": "9c63b4a0-db22-4c13-acaf-ef6bafdfecd3", "condition_type": "equals", "value": "#test-submit-form-pptm", "options": {"selector_type": "css"}}], "created_at": "2020-04-04T09:09:09+00:00", "updated_at": "2020-04-04T09:09:09+00:00"}}}}}}, "400": {"description": "Bad request", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INVALID_JSON_ERROR", "detail": "The attribute expected to be of type string but integer given.", "source": {"pointer": "/data/attributes/trigger_type"}, "meta": {"keyword": "type", "keyword_args": {"expected": "string", "used": "integer"}}}]}}}}, "401": {"description": "Unauthorized", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "UNAUTHORIZED_ERROR", "detail": "Access token not authorized"}]}}}}, "404": {"description": "Not found", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "NOT_FOUND_ERROR", "detail": "There is no application with given identifier: 5c39070d-9e0b-40a2-ae56-392f05711f74", "source": {"parameter": "app_id"}}]}}}}, "500": {"description": "Internal server error", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INTERNAL_SERVER_ERROR", "detail": "MySQL server has gone away"}]}}}}, "503": {"description": "Service unavailable", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "SERVICE_UNAVAILABLE", "detail": "Maintenance mode enabled for organization (organization: default)"}]}}}, "headers": {"X-Reason": {"schema": {"type": "string"}, "description": "Reason for service being unavailable", "example": "maintenance-mode"}}}}, "requestBody": {"required": true, "content": {"application/vnd.api+json": {"schema": {"description": "Create trigger request", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 request data", "type": "object", "properties": {"id": {"description": "Trigger identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Trigger attributes", "properties": {"name": {"description": "Trigger name", "type": "string", "minLength": 1, "maxLength": 255}, "trigger_type": {"type": "string", "enum": ["page_view", "page_load", "dom_ready", "leave_content", "page_scroll", "time_on_website", "event", "history", "debounced_history", "form_submission", "click", "element_presence"], "description": "Trigger type"}, "conditions": {"type": "array", "items": {"type": "object", "properties": {"condition_id": {"description": "Condition identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "variable_id": {"description": "Variable identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "condition_type": {"type": "string", "enum": ["contains", "does_not_contain", "starts_with", "ends_with", "equals", "does_not_equal", "regexp", "does_not_start_with", "does_not_end_with", "does_not_regexp", "is_true", "is_false", "is_set", "is_not_set", "is_empty", "is_not_empty", "matches", "does_not_match", "is_a_child_of", "is_not_a_child_of", "is_first_visit", "is_not_first_visit", "each_time", "once_per_page_view", "once_per_session", "visitor_belongs_to", "visitor_not_belongs_to", "cannot_identify_audience"], "description": "Condition type"}, "value": {"description": "Condition value", "oneOf": [{"type": "string", "minLength": 1, "maxLength": 255}, {"title": "null", "description": "", "enum": [null]}]}, "options": {"description": "Condition options", "oneOf": [{"title": "Default condition options", "type": "object", "additionalProperties": false}, {"title": "Selector type condition options", "type": "object", "properties": {"selector_type": {"type": "string", "enum": ["xpath", "css"], "description": "Selector type"}}, "required": ["selector_type"], "additionalProperties": false}, {"title": "Page scroll unit condition options", "type": "object", "properties": {"unit": {"type": "string", "enum": ["percentage", "pixels"], "description": "Page scroll unit"}}, "required": ["unit"], "additionalProperties": false}]}}, "required": ["condition_id", "variable_id", "condition_type", "value", "options"], "additionalProperties": false}, "description": "Trigger conditions"}}, "required": ["name", "trigger_type", "conditions"], "additionalProperties": false}, "relationships": {"allOf": [{"description": "Tag relationships"}, {"type": "object", "properties": {"tags": {"description": "Trigger tags", "type": "object", "properties": {"data": {"title": "Tag relationship", "description": "JSON:API 1.0 relationship data", "type": "array", "minItems": 0, "items": {"properties": {"id": {"description": "Tag identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"description": "Tag resource type", "type": "string", "enum": ["tag"]}}, "additionalProperties": false, "required": ["id", "type"]}}}, "additionalProperties": false, "required": ["data"]}}, "additionalProperties": false}]}}, "required": ["type", "attributes"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}, "example": {"data": {"type": "trigger", "attributes": {"name": "Trigger page view for default campaign", "trigger_type": "page_view", "conditions": [{"condition_id": "9efa6364-8982-45c5-a288-cdabdf7a4001", "variable_id": "42ff090e-f97c-45b5-8625-21ae26891382", "condition_type": "equals", "value": "clearcode.cc", "options": {}}, {"condition_id": "9c376cf0-09db-45f1-a2ee-9163d7f10d99", "variable_id": "9c63b4a0-db22-4c13-acaf-ef6bafdfecd3", "condition_type": "equals", "value": "#test-submit-form-pptm", "options": {"selector_type": "css"}}]}}}}}}, "tags": ["Tag Manager"]}}, "/api/tag/v1/{app_id}/triggers/{trigger_id}": {"parameters": [{"in": "path", "name": "app_id", "required": true, "description": "Application identifier", "schema": {"title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "example": "1f74dda5-b598-41d6-a9e4-f501ef4379e1"}, {"in": "path", "name": "trigger_id", "required": true, "description": "Trigger identifier", "schema": {"title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "example": "4a83785a-eb7d-437b-ab65-ac7fa7de1d1a"}], "get": {"summary": "Get trigger", "responses": {"200": {"description": "Trigger data", "content": {"application/vnd.api+json": {"schema": {"description": "Get trigger response", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 response data", "type": "object", "properties": {"id": {"description": "Trigger identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Trigger attributes", "properties": {"name": {"description": "Trigger name", "type": "string", "minLength": 1, "maxLength": 255}, "trigger_type": {"type": "string", "enum": ["page_view", "page_load", "dom_ready", "leave_content", "page_scroll", "time_on_website", "event", "history", "debounced_history", "form_submission", "click", "element_presence"], "description": "Trigger type"}, "is_published": {"type": "boolean", "description": "Flag describing whether trigger is published (true) or not published (false)"}, "conditions": {"type": "array", "items": {"type": "object", "properties": {"condition_id": {"description": "Condition identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "variable_id": {"description": "Variable identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "condition_type": {"type": "string", "enum": ["contains", "does_not_contain", "starts_with", "ends_with", "equals", "does_not_equal", "regexp", "does_not_start_with", "does_not_end_with", "does_not_regexp", "is_true", "is_false", "is_set", "is_not_set", "is_empty", "is_not_empty", "matches", "does_not_match", "is_a_child_of", "is_not_a_child_of", "is_first_visit", "is_not_first_visit", "each_time", "once_per_page_view", "once_per_session", "visitor_belongs_to", "visitor_not_belongs_to", "cannot_identify_audience"], "description": "Condition type"}, "value": {"description": "Condition value", "oneOf": [{"type": "string", "minLength": 1, "maxLength": 255}, {"title": "null", "description": "", "enum": [null]}]}, "options": {"description": "Condition options", "oneOf": [{"title": "Default condition options", "type": "object", "additionalProperties": false}, {"title": "Selector type condition options", "type": "object", "properties": {"selector_type": {"type": "string", "enum": ["xpath", "css"], "description": "Selector type"}}, "required": ["selector_type"], "additionalProperties": false}, {"title": "Page scroll unit condition options", "type": "object", "properties": {"unit": {"type": "string", "enum": ["percentage", "pixels"], "description": "Page scroll unit"}}, "required": ["unit"], "additionalProperties": false}]}}, "required": ["condition_id", "variable_id", "condition_type", "value", "options"], "additionalProperties": false}, "description": "Trigger conditions"}, "created_at": {"title": "DateTime", "description": "ISO 8601", "type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\+[0-9]{2}:[0-9]{2}$"}, "updated_at": {"title": "DateTime", "description": "ISO 8601", "type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\+[0-9]{2}:[0-9]{2}$"}}, "required": ["name", "trigger_type", "is_published", "conditions", "created_at", "updated_at"], "additionalProperties": false}, "relationships": {"type": "object", "description": "Trigger relationships", "properties": {"tags": {"type": "object", "description": "Related tags", "properties": {"data": {"title": "JSON:API 1.0 relationship data", "type": "array", "description": "Tag resource identifiers", "items": {"type": "object", "properties": {"id": {"description": "Tag identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"description": "Tag resource type", "type": "string", "enum": ["tag"]}}, "required": ["id", "type"], "additionalProperties": false}}}, "required": ["data"], "additionalProperties": false}}, "required": ["tags"], "additionalProperties": false}}, "required": ["id", "type", "attributes", "relationships"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}, "example": {"data": {"type": "trigger", "id": "57a653c9-07c0-4f9a-85f6-1cda14eb5e3e", "attributes": {"name": "Trigger page view for custom campaign", "trigger_type": "page_view", "is_published": true, "created_at": "2019-11-30T09:23:38+00:00", "updated_at": "2020-05-05T07:53:29+00:00", "conditions": [{"condition_id": "48cb3c9d-8ca5-4899-82ed-f54fbaa26c7f", "variable_id": "a3f51ab7-ea76-4adc-a839-a32d392df37c", "condition_type": "contains", "value": "custom", "options": {}}, {"condition_id": "a54628fa-52a3-469c-b634-a123908f1c4f", "variable_id": "e1e2b185-464f-4eb5-8575-feec34c5e281", "condition_type": "equals", "value": "/campaign", "options": {}}, {"condition_id": "9c376cf0-09db-45f1-a2ee-9163d7f10d99", "variable_id": "9c63b4a0-db22-4c13-acaf-ef6bafdfecd3", "condition_type": "equals", "value": "#test-submit-form-pptm", "options": {"selector_type": "css"}}]}, "relationships": {"tags": {"data": [{"id": "42e1e8ff-2ee8-4519-a234-0d598bfb356b", "type": "tag"}, {"id": "c61f563f-e3b3-414a-a166-f71d55d99a44", "type": "tag"}, {"id": "58bbcddb-1056-4822-b98b-e56029e2d82f", "type": "tag"}]}}}}}}}, "400": {"description": "Bad request parameter", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INVALID_URI_PARAMETER_ERROR", "detail": "Application identifier should be of type UUID", "source": {"parameter": "app_id"}}]}}}}, "401": {"description": "Unauthorized", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "UNAUTHORIZED_ERROR", "detail": "Access token not authorized"}]}}}}, "404": {"description": "Not found", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "NOT_FOUND_ERROR", "detail": "There is no application with given identifier: 5c39070d-9e0b-40a2-ae56-392f05711f74", "source": {"parameter": "app_id"}}]}}}}, "500": {"description": "Internal server error", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INTERNAL_SERVER_ERROR", "detail": "MySQL server has gone away"}]}}}}}, "tags": ["Tag Manager"]}, "patch": {"summary": "Edit trigger", "responses": {"204": {"description": "No content"}, "400": {"description": "Bad request", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INVALID_JSON_ERROR", "detail": "The attribute expected to be of type string but integer given.", "source": {"pointer": "/data/attributes/trigger_type"}, "meta": {"keyword": "type", "keyword_args": {"expected": "string", "used": "integer"}}}]}}}}, "401": {"description": "Unauthorized", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "UNAUTHORIZED_ERROR", "detail": "Access token not authorized"}]}}}}, "404": {"description": "Not found", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "NOT_FOUND_ERROR", "detail": "There is no application with given identifier: 5c39070d-9e0b-40a2-ae56-392f05711f74", "source": {"parameter": "app_id"}}]}}}}, "500": {"description": "Internal server error", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INTERNAL_SERVER_ERROR", "detail": "MySQL server has gone away"}]}}}}, "503": {"description": "Service unavailable", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "SERVICE_UNAVAILABLE", "detail": "Maintenance mode enabled for organization (organization: default)"}]}}}, "headers": {"X-Reason": {"schema": {"type": "string"}, "description": "Reason for service being unavailable", "example": "maintenance-mode"}}}}, "requestBody": {"required": true, "content": {"application/vnd.api+json": {"schema": {"description": "Edit trigger request", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 request data", "type": "object", "properties": {"id": {"description": "Trigger identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Trigger attributes", "properties": {"name": {"description": "Trigger name", "type": "string", "minLength": 1, "maxLength": 255}, "trigger_type": {"type": "string", "enum": ["page_view", "page_load", "dom_ready", "leave_content", "page_scroll", "time_on_website", "event", "history", "debounced_history", "form_submission", "click", "element_presence"], "description": "Trigger type"}, "conditions": {"type": "array", "items": {"type": "object", "properties": {"condition_id": {"description": "Condition identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "variable_id": {"description": "Variable identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "condition_type": {"type": "string", "enum": ["contains", "does_not_contain", "starts_with", "ends_with", "equals", "does_not_equal", "regexp", "does_not_start_with", "does_not_end_with", "does_not_regexp", "is_true", "is_false", "is_set", "is_not_set", "is_empty", "is_not_empty", "matches", "does_not_match", "is_a_child_of", "is_not_a_child_of", "is_first_visit", "is_not_first_visit", "each_time", "once_per_page_view", "once_per_session", "visitor_belongs_to", "visitor_not_belongs_to", "cannot_identify_audience"], "description": "Condition type"}, "value": {"description": "Condition value", "oneOf": [{"type": "string", "minLength": 1, "maxLength": 255}, {"title": "null", "description": "", "enum": [null]}]}, "options": {"description": "Condition options", "oneOf": [{"title": "Default condition options", "type": "object", "additionalProperties": false}, {"title": "Selector type condition options", "type": "object", "properties": {"selector_type": {"type": "string", "enum": ["xpath", "css"], "description": "Selector type"}}, "required": ["selector_type"], "additionalProperties": false}, {"title": "Page scroll unit condition options", "type": "object", "properties": {"unit": {"type": "string", "enum": ["percentage", "pixels"], "description": "Page scroll unit"}}, "required": ["unit"], "additionalProperties": false}]}}, "required": ["condition_id", "variable_id", "condition_type", "value", "options"], "additionalProperties": false}, "description": "Trigger conditions"}}, "additionalProperties": false}, "relationships": {"allOf": [{"description": "Tag relationships"}, {"type": "object", "properties": {"tags": {"description": "Trigger tags", "type": "object", "properties": {"data": {"title": "Tag relationship", "description": "JSON:API 1.0 relationship data", "type": "array", "minItems": 0, "items": {"properties": {"id": {"description": "Tag identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"description": "Tag resource type", "type": "string", "enum": ["tag"]}}, "additionalProperties": false, "required": ["id", "type"]}}}, "additionalProperties": false, "required": ["data"]}}, "additionalProperties": false}]}}, "required": ["id", "type"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}, "example": {"data": {"id": "57a653c9-07c0-4f9a-85f6-1cda14eb5e3e", "type": "trigger", "attributes": {"name": "Trigger page view for default campaign"}}}}}}, "tags": ["Tag Manager"]}, "delete": {"summary": "Delete trigger", "responses": {"204": {"description": "No content"}, "400": {"description": "Bad request parameter", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INVALID_URI_PARAMETER_ERROR", "detail": "Application identifier should be of type UUID", "source": {"parameter": "app_id"}}]}}}}, "401": {"description": "Unauthorized", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "UNAUTHORIZED_ERROR", "detail": "Access token not authorized"}]}}}}, "404": {"description": "Not found", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "NOT_FOUND_ERROR", "detail": "There is no application with given identifier: 5c39070d-9e0b-40a2-ae56-392f05711f74", "source": {"parameter": "app_id"}}]}}}}, "500": {"description": "Internal server error", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INTERNAL_SERVER_ERROR", "detail": "MySQL server has gone away"}]}}}}, "503": {"description": "Service unavailable", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "SERVICE_UNAVAILABLE", "detail": "Maintenance mode enabled for organization (organization: default)"}]}}}, "headers": {"X-Reason": {"schema": {"type": "string"}, "description": "Reason for service being unavailable", "example": "maintenance-mode"}}}}, "tags": ["Tag Manager"]}}, "/api/tag/v1/{app_id}/triggers/{trigger_id}/copy": {"parameters": [{"in": "path", "name": "app_id", "required": true, "description": "Application identifier", "schema": {"title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "example": "1f74dda5-b598-41d6-a9e4-f501ef4379e1"}, {"in": "path", "name": "trigger_id", "required": true, "description": "Trigger identifier", "schema": {"title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "example": "4a83785a-eb7d-437b-ab65-ac7fa7de1d1a"}], "post": {"summary": "Copy trigger", "responses": {"202": {"description": "Operation data with new (copied) trigger identifier", "content": {"application/vnd.api+json": {"schema": {"description": "Copy trigger response", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 response data", "type": "object", "properties": {"id": {"description": "New trigger's identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Copy trigger attributes", "properties": {"name": {"description": "New trigger's name", "type": "string", "minLength": 1, "maxLength": 255}}, "required": ["name"], "additionalProperties": false}, "relationships": {"type": "object", "description": "Copy trigger relationships", "properties": {"operation": {"type": "object", "description": "Operation", "properties": {"data": {"title": "JSON:API 1.0 relationship data", "type": "object", "description": "Operation data", "properties": {"id": {"allOf": [{"description": "Operation identifier"}, {"title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}]}, "type": {"description": "Operation resource type", "type": "string", "enum": ["operation"]}}, "required": ["id", "type"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}}, "required": ["operation"], "additionalProperties": false}}, "required": ["id", "type", "attributes", "relationships"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}, "example": {"data": {"id": "12e11cbe-16f4-43b7-93ee-10795ccda34e", "type": "trigger", "attributes": {"name": "Trigger - copy"}, "relationships": {"operation": {"data": {"id": "fedbc70e-2390-4b89-8cc4-60a2f6df7b98", "type": "operation"}}}}}}}}, "400": {"description": "Bad request", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INVALID_JSON_ERROR", "detail": "The attribute expected to be of type string but integer given.", "source": {"pointer": "/data/attributes/trigger_type"}, "meta": {"keyword": "type", "keyword_args": {"expected": "string", "used": "integer"}}}]}}}}, "401": {"description": "Unauthorized", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "UNAUTHORIZED_ERROR", "detail": "Access token not authorized"}]}}}}, "404": {"description": "Not found", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "NOT_FOUND_ERROR", "detail": "There is no application with given identifier: 5c39070d-9e0b-40a2-ae56-392f05711f74", "source": {"parameter": "app_id"}}]}}}}, "500": {"description": "Internal server error", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "INTERNAL_SERVER_ERROR", "detail": "MySQL server has gone away"}]}}}}, "503": {"description": "Service unavailable", "content": {"application/vnd.api+json": {"schema": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "description": "An application-specific error code, expressed as a string value."}, "detail": {"type": "string", "description": "A human-readable explanation specific to this occurrence of the problem."}, "source": {"type": "object", "description": "An object containing references to the source of the error.", "properties": {"pointer": {"type": "string", "description": "A JSON Pointer [RFC6901] to the associated entity in the request document."}, "parameter": {"type": "string", "description": "A string indicating which URI parameter caused the error."}}, "additionalProperties": false}, "meta": {"type": "object", "description": "An object containing additional application-specific information about error.", "properties": {"keyword": {"type": "string"}, "keyword_args": {"type": "object"}}, "additionalProperties": false}}, "additionalProperties": false, "required": ["code", "detail"]}, "minItems": 1}}, "additionalProperties": false, "required": ["errors"]}, "example": {"errors": [{"code": "SERVICE_UNAVAILABLE", "detail": "Maintenance mode enabled for organization (organization: default)"}]}}}, "headers": {"X-Reason": {"schema": {"type": "string"}, "description": "Reason for service being unavailable", "example": "maintenance-mode"}}}}, "requestBody": {"required": true, "content": {"application/vnd.api+json": {"schema": {"description": "Copy trigger request", "type": "object", "properties": {"data": {"title": "JSON:API 1.0 request data", "type": "object", "properties": {"id": {"description": "New trigger's identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"type": "string", "enum": ["trigger"], "description": "Trigger resource type"}, "attributes": {"type": "object", "description": "Copy trigger attributes", "properties": {"name": {"description": "New trigger's name", "type": "string", "minLength": 1, "maxLength": 255}}, "additionalProperties": false}, "relationships": {"type": "object", "description": "Copy trigger relationships", "properties": {"target_app": {"type": "object", "description": "Target application", "properties": {"data": {"title": "JSON:API 1.0 relationship data", "description": "Target application data", "type": "object", "properties": {"id": {"description": "Application identifier", "title": "UUID", "type": "string", "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"}, "type": {"description": "Application resource type", "type": "string", "enum": ["app"]}}, "required": ["id", "type"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}}, "required": ["target_app"], "additionalProperties": false}}, "required": ["type", "relationships"], "additionalProperties": false}}, "required": ["data"], "additionalProperties": false}, "example": {"data": {"id": "12e11cbe-16f4-43b7-93ee-10795ccda34e", "type": "trigger", "attributes": {"name": "Trigger - copy"}, "relationships": {"target_app": {"data": {"id": "1bf18ce0-727e-43c0-885c-984e5496a0fa", "type": "app"}}}}}}}}, "tags": ["Tag Manager"]}}}, "components": {"securitySchemes": {"BearerAuth": {"type": "http", "scheme": "bearer", "bearerFormat": "JWT"}}}}